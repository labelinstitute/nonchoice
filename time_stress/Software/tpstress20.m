% Put practice box tasks at the end of slide 14 of instructions

% ADD INSTEAD TWO TRIALS AT THE END OF SECTION 1 INSTRUCTIONS  AT THE END OF SLIDE 20

% change 1 sec of seeing very first box task to 11 seconds again

% take off box tasks with name 1,2,3,7,8,10,11 from real tasks

%TO COPY PASTE SECTIONS 2 AND 3 ONLY CHANGE THE WORDING OF THE BOX TASKS SO
%ITS THE BOX NEXT TO THE PREVIOUS ONE. 

% Do box tasks between 13 and 16 seconds

% At the end, change the first box task of the last 4 intervals so that it
% is a new one. Use the original file that has 10 different first intervals
% with that extra screen. For example, change box task with name 48 in the
% 7th interval (41 secs) for the first one of the 39 sec interval of first
% experiment that starts with name8

%DONE
% Include an easy way of checking wrong box task choices are  because of
% clicks or not enough time. Done. In payoffs sheet last column shows
% incorrect because of not enough time

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                % BEFORE RUNNING AN EXPERIMENT AT THE LAB
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This code was implemented using MATLAB_R2011b with psychtoolbox

% Open Matlab as administrator in the lab. Then download this file into
% Downloads folder (or prefered folder) 
% Make sure to place the rest of the functions in the same path and folder
% checkKey.m
% clickorKey.m
% clr.m
% cls.m
% display1.m
% enterloop.m
% getClick.m
% getClickorKey.m
% pressKey.m

% double click the file to open and should automatically open it in the 
% correct path. If not, select the correct path. 

% Take skip sinc test away in lab! If screen doesnt work (because the tests it runs in the Retina dont work) use Screen('Preference','SkipSyncTests',1) first. Then change 1 for 0 to put the test back on.
% Psychtoolbox does not work properly in terms of timing on macs with retina displays, because of how the screen is upsampled. You have two options:
% 1) You can disabled the screen sync tests. This will allow PTB to function, but you will have inaccurate timing. This may be ok if you are just using the machine for development purposes or if you don't care about precise timing.
% 2) You may be able to force your screen into native resolution mode using a non-apple 3rd party software. See this post in the PTB forum for a link to such software and more information:  http://tech.groups.yahoo.com/group/psychtoolbox/message/14954

% To run the software open the file as a script and then go to matlab's
% command window. In the command window type the name of the file and in
% parenthesis write down the subject number or identification with ''. In
% other words, if the file name is timesoftware.m then type in the command
% window timesoftware('id') and press enter. 
% The software will automatically start. The first window has an invisible
% button in the top right corner. Click it to procede.


% Compare with a clock that the lab computers are recording well.

% To exit the screen once the software has been started press control+c and
% then type clr and click enter (this just calls the function clr which is
% same as entering clear Screen and typing enter)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                % NOTES FOR CHANGING THE CODE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Vary seconds en tasks (both tasks and in between) con promedio de 4
% segundos entre cada task pero gran varianza.

% Change Data file to only get intervals (not tasks) and do another data
% file where I only get intervals where they had more 75% correct tasks

% %------------------------% %
% %  NOTES FOR TIME TASK   % %
% %------------------------% %
% %
% % The function takes one input: 
% % 	- A string specifying the subject code called subjectCode.
% %


% %             1   2   3   4    5    6    7    8    9    10 
% %    Minutes` 31, 37, 35, 34,  32,  39,  41,  33,  38,  36
% %    Tasks:   6   5   5   5    5    6    6    5    5    5 
% %             31  53  1:9 1:18 1:56 2:31 2:31 1:56 2:31 1:56
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function tpstress20(subjectCode) % Make sure subjectCode is defined as string!!!

% Cancels the sync Tests because of problems with Retina Display. If you
% are in a regular monitor erase this line or replace the 1 for a 0.
Screen('Preference', 'SkipSyncTests', 1);
% Sets keyboard
KbName('UnifyKeyNames');
% Create the output files named under the inputed subject code.
fileName = strcat(subjectCode,'.txt');
myfile=fopen(fileName,'w');

dataName = strcat(subjectCode,'Data');
dataName = strcat(dataName,'.txt');
myfileData=fopen(dataName,'w');

payoffsName = strcat(subjectCode,'Payoffs');
payoffsName = strcat(payoffsName,'.txt');
payoffs = fopen(payoffsName,'w');
fprintf(payoffs, '%s \n\n',subjectCode);
int='Interval'; realInt ='Length'; yourEstimation ='Estimate'; deviation = 'Deviation'; deviationPercent = 'Percent off'; corrTasks='Correct Tasks'; incorrTasks='Incorrect Tasks'; percCorrTasks='Percent'; amount='You earn'; numberOfInterval='number'; wrongtime='wrongtime';
fprintf(payoffs, '%s \t %s \t %s \t %s \t %s \t %s \t %s \t %s \t %s \t %s \t %s \n\n', int, realInt, yourEstimation, deviation, deviationPercent, corrTasks, incorrTasks, percCorrTasks, amount, numberOfInterval, wrongtime);


ShortspayoffsName = strcat(subjectCode,'ShortPayoffs');
ShortspayoffsName = strcat(ShortspayoffsName,'.txt');
shortPayoffs = fopen(ShortspayoffsName,'w');
fprintf(shortPayoffs, '%s \n\n',subjectCode);
numberOfInterval='number'; int='Interval'; amount='You earn'; 
fprintf(shortPayoffs, '%s \t\t %s \t\t %s\n\n', numberOfInterval, int, amount);
intNumber0m31s = '1';  intNumber0m37s = '2'; intNumber0m35s = '3'; intNumber0m34s = '4'; intNumber0m32s = '5'; intNumber0m39s = '6'; intNumber0m41s = '7'; intNumber0m33s = '8'; intNumber0m38s = '9'; intNumber0m36s = '10';

% Defines the screen name (wPtr) and opens Screen with size rect.
[wPtr,rect] = Screen('OpenWindow',max(Screen('Screens'))); % In retina display rect = [0 0 1440 900]. In label computers rect = [0 0 1920 1080]

% Define the grid in relative terms to the size of the screen. 
x0=0; x8=rect(3); x1=x8/8; x2=2*x1; x3=3*x1; x4=4*x1; x5=5*x1; x6=6*x1; x7=7*x1;
y0=0; y8=rect(4); y1=y8/8; y2=2*y1; y3=3*y1; y4=4*y1; y5=5*y1; y6=6*y1; y7=7*y1;      
      y05=(0.5)*y1; y15=(1.5)*y1;
      
% Text positions
positionX = x1/3;
positionY = y1/2;
% Define rectangles
R1=[x0 y4 x1 y5]; R2=[x0 y5 x1 y6]; R3=[x0 y6 x1 y7]; R4=[x0 y7 x1 y8];
C1=[x2 y3 x3 y4]; C2=[x3 y3 x4 y4]; C3=[x4 y3 x5 y4]; C4=[x5 y3 x6 y4]; C5=[x6 y3 x7 y4];  C6=[x7 y3 x8 y4];
      
% Types of waitsecs
afterMouseInstructions=0.25;
afterStartInterval=2;
afterStopInterval=1;
startIntervalInstructions=0.25;
taskAnswer=0.5;

% Define how many seconds between the tasks (despues de definir numeros
% acomodar en renglon pero mientras en columna es mas practico para mover)
int2test1=10; % Seconds of show task 1
int3test1=1; % Seconds of blank screen 
int4test1=15; % 
int5test1=5; %





% %             1   2   3   4    5    6    7    8    9    10 
% %    Minutes` 31, 37, 35, 34,  32,  39,  41,  33,  38,  36
% %    Tasks:   6   5   5   5    5    6    6    5    5    5 
% %             31  53  1:9 1:18 1:56 2:31 2:31 1:56 2:31 1:56
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Here we do tiempoRapido==1 for actual experiment and tiempoRapido==0 for
% checking the software works. When tiempoRapido==00 it just gives one
% second to respond each interval so it goes really fast.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

tiempoRapido=1;
if tiempoRapido==1
    
    % 31s (1)
int31sTask1Lasts=13; 
int31sTask2Lasts=14;
int31sTask3Lasts=13; 
int31sTask4Lasts=15;
    % 31s (1)
int31sTask1Wait=4; 
int31sTask2Wait=2;
int31sTask3Wait=6; 
int31sTask4Wait=20;

    % 37s (2)
int53sTask1Lasts=14; 
int53sTask2Lasts=13;
int53sTask3Lasts=15; 
int53sTask4Lasts=13;
int53sTask5Lasts=13; 
    % 37s (2)
int53sTask2Wait=2;
int53sTask3Wait=5; 
int53sTask4Wait=3;
int53sTask5Wait=4; 
int53sTask6Wait=20;

    % 35s (3)
int1m9sTask1Lasts=14; 
int1m9sTask2Lasts=13;
int1m9sTask3Lasts=15; 
int1m9sTask4Lasts=13;
int1m9sTask5Lasts=13; 
    % 35s (3)
int1m9sTask1Wait=4; 
int1m9sTask2Wait=6;
int1m9sTask3Wait=2; 
int1m9sTask4Wait=5;
int1m9sTask5Wait=20;

     % 34 (4)
int1m29sTask1Lasts=14; 
int1m29sTask2Lasts=13;
int1m29sTask3Lasts=15; 
int1m29sTask4Lasts=13;
int1m29sTask5Lasts=14; 
     % 34 (4)
int1m29sTask1Wait=3; 
int1m29sTask2Wait=4;
int1m29sTask3Wait=5; 
int1m29sTask4Wait=2;
int1m29sTask5Wait=20; 

     % 32 (5)
int1m56sTask1Lasts=11; 
int1m56sTask2Lasts=13;
int1m56sTask3Lasts=10; 
int1m56sTask4Lasts=12;
int1m56sTask5Lasts=14; 
     % 32 (5)
int1m56sTask1Wait=4; 
int1m56sTask2Wait=5;
int1m56sTask3Wait=3; 
int1m56sTask4Wait=6;
int1m56sTask5Wait=20;

     % 39 (6)
int2m31sTask1Lasts=13; 
int2m31sTask2Lasts=14;
int2m31sTask3Lasts=15; 
int2m31sTask4Lasts=13;
int2m31sTask5Lasts=13; 
int2m31sTask6Lasts=14;
     % 39 (6)
int2m31sTask1Wait=4; 
int2m31sTask2Wait=2;
int2m31sTask3Wait=5; 
int2m31sTask4Wait=7;
int2m31sTask5Wait=3; 
int2m31sTask6Wait=20;

     % 41 (7)
int2m31sTask7Lasts=14; 
int2m31sTask8Lasts=14;
int2m31sTask9Lasts=15; 
int2m31sTask10Lasts=13;
int2m31sTask11Lasts=14; 
int2m31sTask12Lasts=14; % No lo estoy usando pues al inicio entro el box task con name48 que usa otro de estos
     % 41 (7)
int2m31sTask7Wait=3; 
int2m31sTask8Wait=4;
int2m31sTask9Wait=7; 
int2m31sTask10Wait=3;
int2m31sTask11Wait=5; 
int2m31sTask12Wait=20; % No lo estoy usando pues al inicio entro el box task con name48 que usa otro de estos

     % 33 (8)
int1m56sTask6Lasts=14;
int1m56sTask7Lasts=13; 
int1m56sTask8Lasts=15;
int1m56sTask9Lasts=14; 
int1m56sTask10Lasts=13;
     % 33 (8)
int1m56sTask6Wait=1;
int1m56sTask7Wait=4; 
int1m56sTask8Wait=3;
int1m56sTask9Wait=5; 
int1m56sTask10Wait=20;
     
     % 38 (9)
int2m31sTask13Lasts=13;
int2m31sTask14Lasts=14;
int2m31sTask15Lasts=13; 
int2m31sTask16Lasts=13;
int2m31sTask17Lasts=14; 
int2m31sTask18Lasts=12;
     % 38 (9)
int2m31sTask13Wait=6; 
int2m31sTask14Wait=4;
int2m31sTask15Wait=6; 
int2m31sTask16Wait=2;
int2m31sTask17Wait=3; 
int2m31sTask18Wait=20;
     
     % 36 (10)
int1m56sTask11Lasts=14; 
int1m56sTask12Lasts=13;
int1m56sTask13Lasts=13; 
int1m56sTask14Lasts=15;
int1m56sTask15Lasts=12;
     % 36 (10)
int1m56sTask11Wait=6; 
int1m56sTask12Wait=2;
int1m56sTask13Wait=5; 
int1m56sTask14Wait=2;
int1m56sTask15Wait=20;






int3m16sTask1Lasts=10; 
int3m16sTask2Lasts=12;
int3m16sTask3Lasts=13; 
int3m16sTask4Lasts=14;
int3m16sTask5Lasts=11; 
int3m16sTask6Lasts=10;
int3m16sTask7Lasts=15; 
int3m16sTask8Lasts=11;
int3m16sTask9Lasts=13; 
int3m16sTask10Lasts=12;
int3m16sTask11Lasts=11; 
int3m16sTask12Lasts=12;
int3m16sTask13Lasts=14; 
int3m16sTask14Lasts=10;
int3m16sTask15Lasts=10; 
int3m16sTask16Lasts=13;
int3m16sTask17Lasts=11; 
int3m16sTask18Lasts=10;
int3m16sTask19Lasts=11; 

int1m29sTask6Lasts=11;
int1m29sTask7Lasts=13; 
int1m29sTask8Lasts=10;
int1m29sTask9Lasts=10; 

int41sTask1Lasts=11; 
int41sTask2Lasts=13;
int41sTask3Lasts=14; 
int41sTask4Lasts=11;

int1m9sTask6Lasts=12;
int1m9sTask7Lasts=12; 

int24sTask1Lasts=13; 
int24sTask2Lasts=12;
int24sTask3Lasts=11; 

int3m16sTask1Wait=3; 
int3m16sTask2Wait=5;
int3m16sTask3Wait=2; 
int3m16sTask4Wait=6;
int3m16sTask5Wait=4; 
int3m16sTask6Wait=5;
int3m16sTask7Wait=2; 
int3m16sTask8Wait=5;
int3m16sTask9Wait=6; 
int3m16sTask10Wait=3;
int3m16sTask11Wait=5; 
int3m16sTask12Wait=2;
int3m16sTask13Wait=6; 
int3m16sTask14Wait=5;
int3m16sTask15Wait=4; 
int3m16sTask16Wait=6;
int3m16sTask17Wait=4; 
int3m16sTask18Wait=100;


int1m29sTask6Wait=1;
int1m29sTask7Wait=5; 
int1m29sTask8Wait=5;
int1m29sTask9Wait=50; 

% 41s (7)
int41sTask1Wait=4; 
int41sTask2Wait=2;
int41sTask3Wait=6; 
int41sTask4Wait=50;

 
int1m9sTask6Wait=4;
int1m9sTask7Wait=50; 

% 24s (9)
int24sTask1Wait=2; 
int24sTask2Wait=5;
int24sTask3Wait=20; 

else
    % 2m31s (1)
int2m31sTask1Lasts=1; 
int2m31sTask2Lasts=1;
int2m31sTask3Lasts=1; 
int2m31sTask4Lasts=1;
int2m31sTask5Lasts=1; 
int2m31sTask6Lasts=1;
int2m31sTask7Lasts=1; 
int2m31sTask8Lasts=1;
int2m31sTask9Lasts=1; 
int2m31sTask10Lasts=1;
int2m31sTask11Lasts=1; 
int2m31sTask12Lasts=1;
int2m31sTask13Lasts=1; 
int2m31sTask14Lasts=1;
int2m31sTask15Lasts=1; 
int2m31sTask16Lasts=1;
int2m31sTask17Lasts=1; 
int2m31sTask18Lasts=1;

% 1m56s (2)
int1m56sTask1Lasts=1; 
int1m56sTask2Lasts=1;
int1m56sTask3Lasts=1; 
int1m56sTask4Lasts=1;
int1m56sTask5Lasts=1; 
int1m56sTask6Lasts=1;
int1m56sTask7Lasts=1; 
int1m56sTask8Lasts=1;
int1m56sTask9Lasts=1; 
int1m56sTask10Lasts=1;
int1m56sTask11Lasts=1; 
int1m56sTask12Lasts=1;
int1m56sTask13Lasts=1; 
int1m56sTask14Lasts=1;
int1m56sTask15Lasts=1;

% 31s (3)
int31sTask1Lasts=1; 
int31sTask2Lasts=1;
int31sTask3Lasts=1; 
int31sTask4Lasts=1;

% 53s (4)
int53sTask1Lasts=1; 
int53sTask2Lasts=1;
int53sTask3Lasts=1; 
int53sTask4Lasts=1;
int53sTask5Lasts=1; 

% 3m16s (5)
int3m16sTask1Lasts=1; 
int3m16sTask2Lasts=1;
int3m16sTask3Lasts=1; 
int3m16sTask4Lasts=1;
int3m16sTask5Lasts=1; 
int3m16sTask6Lasts=1;
int3m16sTask7Lasts=1; 
int3m16sTask8Lasts=1;
int3m16sTask9Lasts=1; 
int3m16sTask10Lasts=1;
int3m16sTask11Lasts=1; 
int3m16sTask12Lasts=1;
int3m16sTask13Lasts=1; 
int3m16sTask14Lasts=1;
int3m16sTask15Lasts=1; 
int3m16sTask16Lasts=1;
int3m16sTask17Lasts=1; 
int3m16sTask18Lasts=1;
int3m16sTask19Lasts=1; 

% 1m29s (6)
int1m29sTask1Lasts=1; 
int1m29sTask2Lasts=1;
int1m29sTask3Lasts=1; 
int1m29sTask4Lasts=1;
int1m29sTask5Lasts=1; 
int1m29sTask6Lasts=1;
int1m29sTask7Lasts=1; 
int1m29sTask8Lasts=1;
int1m29sTask9Lasts=1; 

% 41s (7)
int41sTask1Lasts=1; 
int41sTask2Lasts=1;
int41sTask3Lasts=1; 
int41sTask4Lasts=1;

% 1m9s (8)
int1m9sTask1Lasts=1; 
int1m9sTask2Lasts=1;
int1m9sTask3Lasts=1; 
int1m9sTask4Lasts=1;
int1m9sTask5Lasts=1; 
int1m9sTask6Lasts=1;
int1m9sTask7Lasts=1; 

% 24s (9)
int24sTask1Lasts=1; 
int24sTask2Lasts=1;
int24sTask3Lasts=1; 





% 2m31s (1)
int2m31sTask1Wait=1; 
int2m31sTask2Wait=1;
int2m31sTask3Wait=1; 
int2m31sTask4Wait=1;
int2m31sTask5Wait=1; 
int2m31sTask6Wait=1;
int2m31sTask7Wait=1; 
int2m31sTask8Wait=1;
int2m31sTask9Wait=1; 
int2m31sTask10Wait=1;
int2m31sTask11Wait=1; 
int2m31sTask12Wait=1;
int2m31sTask13Wait=1; 
int2m31sTask14Wait=1;
int2m31sTask15Wait=1; 
int2m31sTask16Wait=1;
int2m31sTask17Wait=1; 
int2m31sTask18Wait=1;

% 1m56s (2)
int1m56sTask1Wait=1; 
int1m56sTask2Wait=1;
int1m56sTask3Wait=1; 
int1m56sTask4Wait=1;
int1m56sTask5Wait=1; 
int1m56sTask6Wait=1;
int1m56sTask7Wait=1; 
int1m56sTask8Wait=1;
int1m56sTask9Wait=1; 
int1m56sTask10Wait=1;
int1m56sTask11Wait=1; 
int1m56sTask12Wait=1;
int1m56sTask13Wait=1; 
int1m56sTask14Wait=1;
int1m56sTask15Wait=1;

% 31s (3)
int31sTask1Wait=1; 
int31sTask2Wait=1;
int31sTask3Wait=1; 
int31sTask4Wait=1;

% 53s (4)
int53sTask2Wait=1;
int53sTask3Wait=1; 
int53sTask4Wait=1;
int53sTask5Wait=1; 
int53sTask6Wait=1;

% 3m16s (5)
int3m16sTask1Wait=1; 
int3m16sTask2Wait=1;
int3m16sTask3Wait=1; 
int3m16sTask4Wait=1;
int3m16sTask5Wait=1; 
int3m16sTask6Wait=1;
int3m16sTask7Wait=1; 
int3m16sTask8Wait=1;
int3m16sTask9Wait=1; 
int3m16sTask10Wait=1;
int3m16sTask11Wait=1; 
int3m16sTask12Wait=1;
int3m16sTask13Wait=1; 
int3m16sTask14Wait=1;
int3m16sTask15Wait=1; 
int3m16sTask16Wait=1;
int3m16sTask17Wait=1; 
int3m16sTask18Wait=1;

% 1m29s (6)
int1m29sTask1Wait=1; 
int1m29sTask2Wait=1;
int1m29sTask3Wait=1; 
int1m29sTask4Wait=1;
int1m29sTask5Wait=1; 
int1m29sTask6Wait=1;
int1m29sTask7Wait=1; 
int1m29sTask8Wait=1;
int1m29sTask9Wait=1; 

% 41s (7)
int41sTask1Wait=1; 
int41sTask2Wait=1;
int41sTask3Wait=1; 
int41sTask4Wait=1;

% 1m9s (8)
int1m9sTask1Wait=1; 
int1m9sTask2Wait=1;
int1m9sTask3Wait=1; 
int1m9sTask4Wait=1;
int1m9sTask5Wait=1; 
int1m9sTask6Wait=1;
int1m9sTask7Wait=1; 

% 24s (9)
int24sTask1Wait=1; 
int24sTask2Wait=1;
int24sTask3Wait=1; 
end

% Names of rows and columns
name1={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
name2={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name3={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
name4={'California' 'Iowa' 'Texas' 'Alaska'     'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
name5={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};
name6={'buds' 'leaves' 'trunk' 'roots'        'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name7={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};
name8={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
name9={'hearts' 'spades' 'diamonds' 'clubs'            'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
name10={'bedroom' 'kitchen' 'rooftop' 'balcony' 'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name11={'chair' 'sofa' 'bed' 'bench'            'football' 'hockey' 'soccer' 'baseball' 'rugby' 'lacross' 'basketball'};
name12={'limestone' 'basalt' 'coal' 'marble'    'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
name13={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
name14={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
name15={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name16={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name17={'run' 'sleep' 'eat' 'play'              'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
name18={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
name19={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
name20={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
name21={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name22={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name23={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name24={'hearts' 'spades' 'diamonds' 'clubs'           'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
name25={'bedroom' 'kitchen' 'rooftop' 'balcony' 'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name26={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name27={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
name28={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};
name29={'chair' 'sofa' 'bed' 'bench'            'football' 'hockey' 'soccer' 'baseball' 'rugby' 'lacross' 'basketball'};
name30={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
name31={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
name32={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name33={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
name34={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
name35={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name36={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name37={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
name38={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name39={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name40={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
name41={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name42={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name48={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
name49={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name50={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name51={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name52={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name53={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
name54={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name55={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
name56={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
name57={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};
name58={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
name59={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
name60={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt8task1 = 'Please click the box where the column to the right of the column labeled athena intersects the row above the biology row.';
% 1/5 name48={'physics' 'biology' 'chemistry' 'geology'    'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt8task2 = 'Please click the box where the drums row intersects the column to the right of the column labeled fox.';
% 4/4 name49={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task3 = 'Please click the box where the row below the pen row intersects the column to the left of the earth column.';
% 2/1 name50={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt8task4 = 'Please click the box where the column to the right of the Romania column intersects the trunk row.';
% 3/6 name51={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt8task5 = 'Please click the box where the column to the left of the column labeled goat intersects the row below the woman row.';
% 4/1 name52={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task6 = 'Please click the box where the column labeled peach intersects the row below the green row.';
% 3/2 name53={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
instructionsInt8task7 = 'Please click the box where the row above the row labeled Texas intersects the column labeled fox.';
% 2/3 name54={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task8 = 'Please click the box where the row above the roots row intersects the column to the left of the Nigeria column.';
% 3/3 name55={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt8task9 = 'Please click the box where the capellini column intersects the row below the row labeled earth.';
% 4/2 name56={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt8task10 = 'Please click the box where the column to the right of the rex column intersects the row above the nimbus row.';
% 1/4 name57={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};
instructionsInt8task11 = 'Please click the box where the row above the row labeled pencil intersects the column labeled jupiter.';
% 1/5 name58={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt8task12 = 'Please click the box where the row labeled circle intersects the column to the left of the iron column.';
% 1/2 name59={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt8task13 = 'Please click the box where the column labeled dog intersects the row above the drums row.';
% 3/5 name60={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task14 = 'Please click the box where the column to the left of the column labeled fox intersects the row labeled man.';
% 2/2 name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task15 = 'Please click the box where the row below the row labeled chemistry intersects the column labeled poseidon.';
% 4/3 name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt8task16 = 'Please click the box where the column labeled kinetic intersects the row below the chopper row.';
% 3/1 name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
instructionsInt8task17 = 'Please click the box where the row above the water row intersects the column to the right of the cashew column.';
% 1/6 name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt8task18 = 'Please click the box where the space row intersects the column to the right of the column labeled linguine.';
% 4/6 name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt7task1 = 'Please click the box where the column to the left of the column labeled lead intersects the row above the triangle row.';
% 2/1 name33={'circle' 'square' 'triangle' 'rectangle'  'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt7task2 = 'Please click the box where the row labeled chemistry intersects the column to the left of the apollo column.';
% 3/4 name34={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt7task3 = 'Please click the box where the column to the left of the uranus column intersects the ruler row.';
% 4/5 name35={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt7task4 = 'Please click the box where the row above the row labeled play intersects the column labeled horse.';
% 3/6 name36={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task5 = 'Please click the box where the column to the right of the music column intersects the row above the broccoli row.';
% 1/5 name37={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
instructionsInt7task6 = 'Please click the box where the row below the Texas row intersects the column to the right of the fox column.';
% 4/4 name38={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task7 = 'Please click the box where the column to the left of the column labeled horse intersects the row labeled trumpet.';
% 2/5 name39={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task8 = 'Please click the box where the row above the water row intersects the column to the left of the macadamia column.';
% 1/3 name40={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt7task9 = 'Please click the box where the column to the right of the column labeled Cuba intersects the row below the leaves row.';
% 3/2 name41={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt7task10 = 'Please click the box where the uranus column intersects the row above the row labeled ruler.';
% 3/6 name42={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt7task11 = 'Please click the box where the row above the row labeled trunk intersects the column labeled Romania.';
% 2/5 name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt7task12 = 'Please click the box where the column labeled kinetic intersects the row above the scooter row.';
% 2/1 name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
instructionsInt7task13 = 'Please click the box where the drums row intersects the column to the right of the column labeled cat.';
% 4/5 name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'}; 
instructionsInt7task14 = 'Please click the box where the column labeled orchid intersects the row below the hearts row.';
% 2/3 name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
instructionsInt7task15 = 'Please click the box where the row below the row labeled run intersects the column labeled goat.';
% 2/2 name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt5task6 = 'Please click the box where the row above the Texas row intersects the column to the left of the column labeled fox.';
% 2/2 name22={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt5task7 = 'Please click the box where the trunk row intersects the column to the right of the column labeled Nigeria.';
% 3/5 name23={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};

instructionsInt6task6 = 'Please click the box where the row above the row labeled sofa intersects the column to the left of the hockey column.';
% 1/1 name29={'chair' 'sofa' 'bed' 'bench'            'football' 'hockey' 'soccer' 'baseball' 'rugby' 'lacross' 'basketball'};
instructionsInt6task7 = 'Please click the box where the column to the right of the grape column intersects the row above the yellow row.';
% 3/5 name30={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
instructionsInt6task8 = 'Please click the box where the earth row intersects the column to the left of the column labeled fusilli.';
% 3/2 name31={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt6task9 = 'Please click the box where the column to the right of the cow column intersects the row below the woman row.';

% 4/2 name32={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task6 = 'Please click the box where the row below the Texas row intersects the column to the right of the fox column.';
% 4/4 name38={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task7 = 'Please click the box where the column to the left of the column labeled horse intersects the row labeled trumpet.';
% 2/5 name39={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt7task8 = 'Please click the box where the row above the water row intersects the column to the left of the macadamia column.';
% 1/3 name40={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt7task9 = 'Please click the box where the column to the right of the column labeled Cuba intersects the row below the leaves row.';
% 3/2 name41={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt7task10 = 'Please click the box where the uranus column intersects the row above the row labeled ruler.';
% 3/6 name42={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt7task11 = 'Please click the box where the row above the row labeled trunk intersects the column labeled Romania.';
% 2/5 name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt7task12 = 'Please click the box where the column labeled kinetic intersects the row above the scooter row.';
% 2/1 name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
instructionsInt7task13 = 'Please click the box where the drums row intersects the column to the right of the column labeled cat.';
% 4/5 name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'}; 
instructionsInt7task14 = 'Please click the box where the column labeled orchid intersects the row below the hearts row.';
% 2/3 name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
instructionsInt7task15 = 'Please click the box where the row below the row labeled run intersects the column labeled goat.';
% 2/2 name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

instructionsInt8task7 = 'Please click the box where the row above the row labeled Texas intersects the column labeled fox.';
% 2/3 name54={'California' 'Iowa' 'Texas' 'Alaska'     'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task8 = 'Please click the box where the row above the roots row intersects the column to the left of the Nigeria column.';
% 3/3 name55={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt8task9 = 'Please click the box where the capellini column intersects the row below the row labeled earth.';
% 4/2 name56={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt8task10 = 'Please click the box where the column to the right of the rex column intersects the row above the nimbus row.';
% 1/4 name57={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};
instructionsInt8task11 = 'Please click the box where the row above the row labeled pencil intersects the column labeled jupiter.';
% 1/5 name58={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt8task12 = 'Please click the box where the row labeled circle intersects the column to the left of the iron column.';
% 1/2 name59={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt8task13 = 'Please click the box where the column labeled dog intersects the row above the drums row.';
% 3/5 name60={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task14 = 'Please click the box where the column to the left of the column labeled fox intersects the row labeled man.';
% 2/2 name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt8task15 = 'Please click the box where the row below the row labeled chemistry intersects the column labeled poseidon.';
% 4/3 name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt8task16 = 'Please click the box where the column labeled kinetic intersects the row below the chopper row.';
% 3/1 name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
instructionsInt8task17 = 'Please click the box where the row above the water row intersects the column to the right of the cashew column.';
% 1/6 name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt8task18 = 'Please click the box where the space row intersects the column to the right of the column labeled linguine.';
% 4/6 name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%instructions1 = 'SECTION 2 \n \n \n \n \nIn this section you will estimate intervals of time. \n\nIn each of these tasks you will have to read instructions on where to click with the mouse on the screen. \n\nIn order for yor interval estimations to count towards payments it is absolutely necessary that you answer these tasks correctly. \n \n \n \n \nPlease press any key to continue.';
%instructions2 = 'EXAMPLE OF A TASK \n\n\nPlease click with the mouse the row2 col3 box. \n\nIn this case, you would have to click with the mouse on top of the black box (where row 2 intersects column 3). \n\nPlease click on this box (row2 col3 box) to continue.';
%instructions3 = 'While estimating the intervals of time you will be periodically presented with tasks of this form. \n\nImportantly, you will only have a few of seconds to respond correctly. \n\nAfter a few seconds the task will dissapear and it will count as an incomplete task. \n\nThus, it is crucial that you read the instructions and click with the mouse as fast as possible. \n\nDont try to count the seconds of the interval while solving the tasks. \n\nRemember that the tasks last only a few of seconds and if you miss one your answer of the whole interval estimation wont count. \n\nFinally, the amount of seconds each task will show up also varies. \n\nThe next is a real example of a task. \n \n \n \n \nPlease press any key of the keyboard to continue.';
%instructions4 = 'Please click with the mouse the box where the row below the blue row intersects the column to the left of the orange column.';

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);
Next='Next';
StartInterval='Start Interval ';
EndInterval='End Interval ';


instructionsTaskDynamic1 = 'Please click the box where the row below the blue row intersects the column to the left of the orange column.';
answerCorrectAnounce = 'Correct! You got it right. \n\n\n\n\nTo continue click on "Next".';
instructionsTaskDynamic2 = 'Please click the box where the row below the guitar row intersects the column to the left of the dog column.';
rightanswer2 = 'The correct box is the trumpet cat box. \n\nThe trumpet row is the row below the guitar row and the cat column is the column to the left of the dog column. \n\nTo continue click on "Next".';
instructionsTaskDynamic3 = 'Please click the box where the row above the bus row intersects the column to the right of the pants column.';
rightanswer3 = 'The correct box is the bike scarf box. \n\nThe bike row is the row above the bus row and the scarf column is the column to the right of the pants column. \n\nTo continue click on "Next".';

instructionsInt20Secs = 'Please submit an interval of 20 seconds. \n\nYou will have to do BOX-TASKS during the INTERAL-TASK. \n\n\n\n\nPlease click "Start Interval" to begin the interval.';
correctAnswer = 'Correct box';
wrongAnswer = 'Wrong box';
wrongAnswerTime = 'Time was up';
instructionsInt20Secs2Task1 = 'Please click the box where the row below the cumulus row intersects the column to the left of the rex column.';
instructionsInt20Secs2Task2 = 'Please click the box where the column to the right of the electrical column intersects the row below the scooter row.';
instructionsCommentAboutTasks = '\n\nIMPORTANT TO REMEMBER\n\n\n1) If you end an INTERVAL-TASK  during a BOX-TASK (before clicking a box) that BOX-TASK does not count either as a correct nor incorrect answer.\n\n2) The time between a BOX-TASK dissapears and the next one appears is not always the same. \n\n   A BOX-TASK may show up right after the previous BOX-TASK dissapeared or it may take some time.\n\n\n\n\nTo continue click on "Next".'; 
instructionsInt20Secs3 = 'Please submit an interval of 16 seconds. \n\nDuring the interval you will have to answer BOX-TASKS that have a time limit. \n\nAnswer BOX-TASKS until you feel 16 seconds have passed. After click on the "End Interval" button.\n\n\n\n\nPlease click "Start Interval" to start the interval.';
instructionsInt20Secs3Task1 = 'Please click the box where the row below the row labeled rooftop intersects the cow column.';
instructionsInt20Secs3Task2 = 'Please click the box where the column to the right of the rugby column intersects the row above the sofa row.';
InstructionsBeforeReal = 'The real trials will now begin and your performance will determine your earnings. \n\nIf you have any question please raise your hand and wait for an experimenter to assist you.\n\n\n\n\nPlease click "Next" to begin.';


%SCREEN INSTRUCTIONS 1 - Blocked
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please do NOT touch the mouse or the keyboard.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

% Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
% Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 2 - (START INTERVAL)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
        % Interval Start
        clickBegins=GetSecs();
        now = clickBegins;
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 3 - (END INT 10)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
buttons=[0 0 0];
mouseX=0; mouseY=0;


        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        
while (mouseX<x7 | mouseY>y1) && now < clickBegins + 20
        % Wait for key press
        while ~max(buttons) && now < clickBegins + 20
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked
        
        now = GetSecs();
        end
        buttons=[0 0 0];
end  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please stop clicking and wait for instructions.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 5 - Click on correct Box (cumulus and rex box task)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
row1= name7{1}; 
row2= name7{2};
row3= name7{3};
row4= name7{4};

col1= name7{5};
col2= name7{6};
col3= name7{7};
col4= name7{8};
col5= name7{9};
col6= name7{10};
col7= name7{11};


buttons=[0 0 0];
mouseX=0; mouseY=0;

% First show screen so theres no lag in immmage
DrawFormattedText(wPtr, instructionsInt20Secs2Task1, [positionX], [positionY], [0 0 0]);
instructionsInt20Secs2Task1 = 'Please click the box where the row below the cumulus row intersects the column to the left of the rex column.';

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels 
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions);

% Wait for mouse press in correct box
while max(buttons)==0 | (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) 
    
DrawFormattedText(wPtr, instructionsInt20Secs2Task1, [positionX], [positionY], [0 0 0]);
% instructionsTasksDescription = 'All tasks ask you to click on one of the 28 (4 rows x 7 columns) boxes shown in the table below.  \n\nFor example, you could be asked to click on the "row2 col3" box. \n\nThis means that the task is asking you to click on top of box where row 2 intersects column 3. \n\nIn the table below this box is the one colored in black. \n\nPlease click on this box to continue.';

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels 
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

[mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 6 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please stop clicking and wait for instructions.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 7 - Box Task so they get a feeling of time limit
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions); 

buttons=[0 0 0];
mouseX=0; mouseY=0;
clickBegins=GetSecs();
now = clickBegins;
d=0;
% name1={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
% Instructions - Row4/Col4

while now < clickBegins + 10

DrawFormattedText(wPtr, instructionsTaskDynamic1, [positionX], [positionY], [0 0 0]);
% instructionsTaskDynamic1 = 'Please click the box where the row below the blue row intersects the column to the left of the orange column.';

row1= name1{1}; 
row2= name1{2};
row3= name1{3};
row4= name1{4};

col1= name1{5};
col2= name1{6};
col3= name1{7};
col4= name1{8};
col5= name1{9};
col6= name1{10};
col7= name1{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);


Screen('Flip',wPtr);

        now = GetSecs();
        
end
           
           

%SCREEN INSTRUCTIONS 8 - Aprox box task time 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   if d==0
       
          answer='This is the approximate amount of time you have to submit an answer. Sometimes a bit more, sometimes a bit less.';
      
       
       DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);

       Screen('Flip',wPtr);

       mouseX=0; mouseY=0;

        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

   end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 9 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please stop clicking and wait for instructions.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 10 - (DYNAMIC TASK EXAMPLE 1)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions); 

buttons=[0 0 0];
mouseX=0; mouseY=0;
clickBegins=GetSecs();
now = clickBegins;
d=0;

           while ~max(buttons) & now < clickBegins + 12

DrawFormattedText(wPtr, instructionsTaskDynamic2, [positionX], [positionY], [0 0 0]);
% instructionsTaskDynamic1 = 'Please click the box where the row below the blue row intersects the column to the left of the orange column.';

row1= name2{1}; 
row2= name2{2};
row3= name2{3};
row4= name2{4};

col1= name2{5};
col2= name2{6};
col3= name2{7};
col4= name2{8};
col5= name2{9};
col6= name2{10};
col7= name2{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);


Screen('Flip',wPtr);

       [mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked

        now = GetSecs();
        
           end
        
       % If he clicked the mouse in time
       if max(buttons)>0 % Row3/Col3
            if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C4(1) && mouseX <= C4(3)
            d=1; 
            end
       end
                    
   if d==0
       if max(buttons)>0
           answer='Wrong box. This would have counted as a wrong answer. \n\nPlease click "Next" to try again.';
       else
          answer='You ran out of time. This would have counted as a wrong answer. \n\nPlease click "Next" to try again.';
       end
       
       DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);

       Screen('Flip',wPtr);

       mouseX=0; mouseY=0;

        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 

buttons=[0 0 0];
mouseX=0; mouseY=0;
clickBegins=GetSecs();
now = clickBegins;
% name1={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
% Instructions - Row4/Col4

           while ~max(buttons) & now < clickBegins + 12

DrawFormattedText(wPtr, instructionsTaskDynamic2, [positionX], [positionY], [0 0 0]);
% instructionsTaskDynamic1 = 'Please click the box where the row below the blue row intersects the column to the left of the orange column.';


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

       [mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked

        now = GetSecs();
        
           end
        
       % If he clicked the mouse in time
       if max(buttons)>0 % Row3/Col3
            if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C4(1) && mouseX <= C4(3)
           d=1;
            end
       end
                
       WaitSecs(afterMouseInstructions);
       
   if d==0
       if max(buttons)>0
           answer='Wrong box';
       else
          answer='Your time was up';
       end
       
       Screen('DrawText',wPtr,answer,x1,y2,[0 0 0]);

       Screen('Flip',wPtr);
       
       WaitSecs(taskAnswer);
      
   end % End of second try
   end % End of first try
   
   if d==0 % "If you didnt get it right it two tries"
       
    mouseX=0; mouseY=0;
        % Wait for click
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, rightanswer2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('FillRect', wPtr, [0 0 0], [x5 y5 x6 y6]); 

Screen('Flip',wPtr);


        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 
       
       
   else % If they got it right in the first two tries
              
      % Tell them they got it right
      DrawFormattedText(wPtr, answerCorrectAnounce, [x1], [y2], [0 0 0]);

       Screen('Flip',wPtr);
       WaitSecs(afterMouseInstructions);
  
       mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, answerCorrectAnounce, [x1], [y2], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 

end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 11 - (DYNAMIC TASK EXAMPLE 2)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions); 

buttons=[0 0 0];
mouseX=0; mouseY=0;
clickBegins=GetSecs();
now = clickBegins;
d=0;
% name3={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
% Instructions - Row3/Col4

           while ~max(buttons) & now < clickBegins + 12

DrawFormattedText(wPtr, instructionsTaskDynamic3, [positionX], [positionY], [0 0 0]);
% instructionsTaskDynamic3 = 'Please click the box where the row above the bus row intersects the column to the right of the pants column.';

row1= name3{1}; 
row2= name3{2};
row3= name3{3};
row4= name3{4};

col1= name3{5};
col2= name3{6};
col3= name3{7};
col4= name3{8};
col5= name3{9};
col6= name3{10};
col7= name3{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);


Screen('Flip',wPtr);

       [mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked

        now = GetSecs();
        
           end
        
       % If he clicked the mouse in time
       if max(buttons)>0 % Row3/Col3
            if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
            d=1; 
            end
       end
                    
   if d==0
       if max(buttons)>0
           answer='Wrong box. This would have counted as a wrong answer. \n\nPlease click "Next" to try again.';
       else
          answer='You ran out of time. This would have counted as a wrong answer. \n\nPlease click "Next" to try again.';
       end
       
       DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);

       Screen('Flip',wPtr);

       mouseX=0; mouseY=0;

        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, answer, [x1], [y2], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 

buttons=[0 0 0];
mouseX=0; mouseY=0;
clickBegins=GetSecs();
now = clickBegins;
% name1={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};
% Instructions - Row4/Col4

           while ~max(buttons) & now < clickBegins + 12

DrawFormattedText(wPtr, instructionsTaskDynamic3, [positionX], [positionY], [0 0 0]);
% instructionsTaskDynamic1 = 'Please click the box where the row below the blue row intersects the column to the left of the orange column.';


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

       [mouseX,mouseY,buttons] = GetMouse(); % mouseX and mouseY only exist if clicked

        now = GetSecs();
        
           end
        
       % If he clicked the mouse in time
       if max(buttons)>0 % Row3/Col3
            if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
           d=1;
            end
       end
                
       WaitSecs(afterMouseInstructions);
       
   if d==0
       if max(buttons)>0
           answer='Wrong box';
       else
          answer='Your time was up';
       end
       
       Screen('DrawText',wPtr,answer,x1,y2,[0 0 0]);

       Screen('Flip',wPtr);
       
       WaitSecs(taskAnswer);
      
   end % End of second try
   end % End of first try
   
   if d==0 % "If you didnt get it right it two tries"
       
    mouseX=0; mouseY=0;
        % Wait for click
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, rightanswer3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);


% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('FillRect', wPtr, [0 0 0], [x5 y6 x6 y7]); 

Screen('Flip',wPtr);


        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 
       
       
   else % If they got it right in the first two tries
              
      % Tell them they got it right
      DrawFormattedText(wPtr, answerCorrectAnounce, [x1], [y2], [0 0 0]);

       Screen('Flip',wPtr);
       WaitSecs(afterMouseInstructions);
  
       mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, answerCorrectAnounce, [x1], [y2], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); 

end




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please stop clicking and wait for instructions.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 17 - (Instructions for interval of 20 secs with tasks)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, instructionsInt20Secs, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
  
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 20 - (Second interval of 20 seconds with tasks) task 1
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fprintf(myfile,'Beginning of test interval of 20 seconds \n');

clickBegins=GetSecs();
startPracticeInterval2=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2test1        
        % 3
        while ~max(buttons) && now < clickBegins + int2test1
        DrawFormattedText(wPtr, instructionsInt20Secs2Task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
                Screen('DrawText',wPtr,'End Interval',x7+(x1/3),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 20 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);


    
row1= name7{1}; 
row2= name7{2};
row3= name7{3};
row4= name7{4};

col1= name7{5};
col2= name7{6};
col3= name7{7};
col4= name7{8};
col5= name7{9};
col6= name7{10};
col7= name7{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval2;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
               fprintf(myfileData, '%i \n', d)

                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2test1   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int3test1
            % 2.3
            while ~max(buttons) && now < clickBegins + int3test1
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 20 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int4test1        
        % 3.3
        while ~max(buttons) && now < clickBegins + int4test1
        DrawFormattedText(wPtr, instructionsInt20Secs2Task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 20 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name8{1}; 
row2= name8{2};
row3= name8{3};
row4= name8{4};

col1= name8{5};
col2= name8{6};
col3= name8{7};
col4= name8{8};
col5= name8{9};
col6= name8{10};
col7= name8{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
               fprintf(myfileData, '%i \n', d)

                
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int4test1   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    % 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    % If hasnt clicked on "end int" button
    % 4.1
        if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 4.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int5test1
            % 4.3
            while ~max(buttons) && now < clickBegins + int5test1
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 20 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 4.3
            end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 4.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            % 4.1
            end
        % 3.1      
        end
    % 2.1    
    end
% 1        
end
lengthPracticeInterval = now - startPracticeInterval2;
correctas = num2str(counterCorrectas);
incorrectas = num2str(counterIncorrectas);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    proportion=' over or equal to 75 per cent.\n\nSo you would have earned money for this time interval if your estimation was good.\n\nRemember: if less than 75 per cent of the task answers during an interval are correct you earn $0 no matter how good your estimation for the interval.';
else
    proportion=' under 75 per cent.\n\nSo you would have earned zero for this time interval regardless of your estimation.\n\nRemember: if less than 75 per cent of the task answers during an interval are correct you earn $0 no matter how good your estimation for the interval.';

end
% Answer = 'We cant tell you how good your estimate for the 20 second interval was. \n\nHowever, we can tell you how many correct and incorrect task answers you had. \n\nYou had <';
% Answer = strcat(Answer,correctas);
% Answer = strcat(Answer,'> correct answers and <');
% Answer = strcat(Answer,incorrectas);
% Answer = strcat(Answer,'> incorrect answers.');
% Answer = strcat(Answer,' The proportion of correct anwers is ');
% Answer = strcat(Answer,proportion);
Answer = 'Please click the button labeled "Next" to continue.';

fprintf(myfile,'%s \n', Answer);
fprintf(myfile,'The length of the 2nd practice interval is %.5f \n\n', lengthPracticeInterval);
        fprintf(myfileData, '%.2f \n', proportionCorrectas)
        fprintf(myfileData, '%.5f \n', lengthPracticeInterval)
                 
                
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions); 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% %SCREEN INSTRUCTIONS 19.1 - (Comment about tasks after 1st 20 sec int)
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
% Screen('TextFont',wPtr,'Helvetica');
% Screen('TextSize',wPtr,18);
% 
% mouseX=0; mouseY=0;
% 
%         % Wait for key press
%         while mouseX<x7 | mouseY>y1
%         DrawFormattedText(wPtr, instructionsCommentAboutTasks, [positionX], [positionY], [0 0 0]);
%         Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
%         Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
%         Screen('Flip',wPtr);
% 
%         % Wait for mouse click in next button
%         [clicks,mouseX,mouseY,whichButton] = GetClicks();
%         end
%         
%         %%% Wait secs after mouse %%%
%         WaitSecs(afterMouseInstructions);
% 
% 
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN INSTRUCTIONS 22 - (Instructions for third interval of 20 secs with tasks)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, instructionsInt20Secs3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%SCREEN INSTRUCTIONS 23 - (Third Interval of 20 seconds with tasks) task 1
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
fprintf(myfile,'Beginning of 16 sec practice interval \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2test1        
        % 3
        while ~max(buttons) && now < clickBegins + int2test1
        DrawFormattedText(wPtr, instructionsInt20Secs3Task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 16 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name10{1}; 
row2= name10{2};
row3= name10{3};
row4= name10{4};

col1= name10{5};
col2= name10{6};
col3= name10{7};
col4= name10{8};
col5= name10{9};
col6= name10{10};
col7= name10{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
               fprintf(myfileData, '%i \n', d)

                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2test1   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int3test1
            % 2.3
            while ~max(buttons) && now < clickBegins + int3test1
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 16 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int4test1        
        % 3.3
        while ~max(buttons) && now < clickBegins + int4test1
        DrawFormattedText(wPtr, instructionsInt20Secs3Task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 16 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name11{1}; 
row2= name11{2};
row3= name11{3};
row4= name11{4};

col1= name11{5};
col2= name11{6};
col3= name11{7};
col4= name11{8};
col5= name11{9};
col6= name11{10};
col7= name11{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
               fprintf(myfileData, '%i \n', d)
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int4test1   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    % If hasnt clicked on "end int" button
    % 4.1
        if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 4.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int5test1
            % 4.3
            while ~max(buttons) && now < clickBegins + int5test1
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
                Screen('DrawText',wPtr,'Announced Interval: 16 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 4.3
            end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 4.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            % 4.1
            end
        % 3.1      
        end
    % 2.1    
    end
% 1        
end
lengthPracticeInterval = now - startPracticeInterval3;
correctas = num2str(counterCorrectas);
incorrectas = num2str(counterIncorrectas);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    proportion=' over or equal to 75 per cent.\n\nSo you would have earned money for this time interval if your estimation was good.\n\nRemember: if less than 75 per cent of the task answers during an interval are correct you earn $0 no matter how good your estimation for the interval.';
else
    proportion=' under 75 per cent.\n\nSo you would have earned zero for this time interval regardless of your estimation.\n\nRemember: if less than 75 per cent of the task answers during an interval are correct you earn $0 no matter how good your estimation for the interval.';

end
% Answer = 'We cant tell you how good your estimate for the 20 second interval was. \n\nHowever, we can tell you how many correct and incorrect task answers you had. \n\nYou had <';
% Answer = strcat(Answer,correctas);
% Answer = strcat(Answer,'> correct answers and <');
% Answer = strcat(Answer,incorrectas);
% Answer = strcat(Answer,'> incorrect answers.');
% Answer = strcat(Answer,' The proportion of correct anwers is ');
% Answer = strcat(Answer,proportion);
Answer = 'Please stop clicking and wait for instructions.';

fprintf(myfile,'%s \n', Answer);
fprintf(myfile,'The length of the 3rd practice interval is %.5f \n\n', lengthPracticeInterval);
        fprintf(myfileData, '%.2f \n', proportionCorrectas)
        fprintf(myfileData, '%.5f \n', lengthPracticeInterval)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%% Wait secs after mouse %%%
WaitSecs(afterMouseInstructions); 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN 24 - (Beginning of experiment)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, InstructionsBeforeReal, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
  
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);

        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 24 - (Instructions for 31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;


        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);


        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 25 - (31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt2task1 = 'Please click the box where the column to the left of the column labeled salsa intersects the row above the Iowa row.';
% 1/2={'California' 'Iowa' 'Texas' 'Alaska'     'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt2task2 = 'Please click the box where the row below the boots row intersects the column labeled pug.';
% 2/6 name5={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};
instructionsInt2task3 = 'Please click the box where the column to the right of the Cuba column intersects the row below the trunk row.';
% 4/2 name6={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt2task4 = 'Please click the box where the row above the row labeled stratus intersects the column to the left of the allosaurus column.';
% 3/4 name7={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};

fprintf(myfile,'Beginning of int of 31 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);



% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt2task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name5{1};
row2= name5{2};
row3= name5{3};
row4= name5{4};

col1= name5{5};
col2= name5{6};
col3= name5{7};
col4= name5{8};
col5= name5{9};
col6= name5{10};
col7= name5{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt2task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name6{1};
row2= name6{2};
row3= name6{3};
row4= name6{4};

col1= name6{5};
col2= name6{6};
col3= name6{7};
col4= name6{8};
col5= name6{9};
col6= name6{10};
col7= name6{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt2task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name7{1};
row2= name7{2};
row3= name7{3};
row4= name7{4};

col1= name7{5};
col2= name7{6};
col3= name7{7};
col4= name7{8};
col5= name7{9};
col6= name7{10};
col7= name7{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            % 4.1
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;


if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 31;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m31s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m31s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m31s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 28 - (Instructions for 37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt4task1 = 'Please click the box where the row above the row labeled basalt intersects the column labeled folk.';
% 1/6 name12={'limestone' 'basalt' 'coal' 'marble'    'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt4task2 = 'Please click the box where the column to the right of the macadamia column intersects the row above the row labeled air.';
% 2/5 name13={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt4task3 = 'Please click the box where the column to the right of the column labeled linguine intersects the row above the space row.';
% 3/6 name14={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt4task4 = 'Please click the box where the row labeled ruler intersects the column to the left of the column labeled earth.';
% 4/1 name15={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt4task5 = 'Please click the box where the row above the boy row intersects the column to the left of the goat column.';
% 3/1 name16={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of int of 37 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int53sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int53sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt4task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name13{1};
row2= name13{2};
row3= name13{3};
row4= name13{4};

col1= name13{5};
col2= name13{6};
col3= name13{7};
col4= name13{8};
col5= name13{9};
col6= name13{10};
col7= name13{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int53sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt4task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name14{1};
row2= name14{2};
row3= name14{3};
row4= name14{4};

col1= name14{5};
col2= name14{6};
col3= name14{7};
col4= name14{8};
col5= name14{9};
col6= name14{10};
col7= name14{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int53sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt4task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name15{1};
row2= name15{2};
row3= name15{3};
row4= name15{4};

col1= name15{5};
col2= name15{6};
col3= name15{7};
col4= name15{8};
col5= name15{9};
col6= name15{10};
col7= name15{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int53sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt4task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name16{1}; 
row2= name16{2};
row3= name16{3};
row4= name16{4};

col1= name16{5};
col2= name16{6};
col3= name16{7};
col4= name16{8};
col5= name16{9};
col6= name16{10};
col7= name16{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                    % 4.1
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
    end
 
lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 37s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 37;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m37s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m37s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m37s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 28 - (Instructions for 35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


instructionsInt5task1 = 'Please click the box where the row below the row labeled run intersects the classical column.';
% 2/5 name17={'run' 'sleep' 'eat' 'play'              'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt5task2 = 'Please click the box where the row below the triangle row intersects the column to the right of the iron column.';
% 4/4 name18={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt5task3 = 'Please click the box where the column to the right of the column labeled sculpture intersects the tomato row.';
% 1/3 name19={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
instructionsInt5task4 = 'Please click the box where the row above the chemistry row intersects the column to the left of the atlas column.';
% 2/5 name20={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt5task5 = 'Please click the box where the piano row intersects the column labeled cat.';
% 3/4 name21={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of interval of 35 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m9sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt5task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name18{1}; 
row2= name18{2};
row3= name18{3};
row4= name18{4};

col1= name18{5};
col2= name18{6};
col3= name18{7};
col4= name18{8};
col5= name18{9};
col6= name18{10};
col7= name18{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m9sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt5task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name19{1}; 
row2= name19{2};
row3= name19{3};
row4= name19{4};

col1= name19{5};
col2= name19{6};
col3= name19{7};
col4= name19{8};
col5= name19{9};
col6= name19{10};
col7= name19{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt5task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name20{1}; 
row2= name20{2};
row3= name20{3};
row4= name20{4};

col1= name20{5};
col2= name20{6};
col3= name20{7};
col4= name20{8};
col5= name20{9};
col6= name20{10};
col7= name20{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m9sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt5task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name21{1}; 
row2= name21{2};
row3= name21{3};
row4= name21{4};

col1= name21{5};
col2= name21{6};
col3= name21{7};
col4= name21{8};
col5= name21{9};
col6= name21{10};
col7= name21{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 35s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 35;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m35s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m35s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m35s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%SCREEN INSTRUCTIONS 30 - (Instructions for 34s)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 31 - 34s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt6task1 = 'Please click the box where the column to the right of the column labeled daffodil intersects the row above the row labeled clubs.';
% 3/5 name24={'hearts' 'spades' 'diamonds' 'clubs'           'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
instructionsInt6task2 = 'Please click the box where the rooftop row intersects the column to the left of the column labeled goat.';
% 3/1 name25={'bedroom' 'kitchen' 'rooftop' 'balcony' 'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt6task3 = 'Please click the box where the column to the left of the uranus column intersects the row above the pencil row.';
% 1/5 name26={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt6task4 = 'Please click the box where the truck row intersects the column to the right of the column labeled pants.';
% 2/4 name27={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
instructionsInt6task5 = 'Please click the box where the column to the right of the boxer column intersects the row above the flats row.';
% 2/6 name28={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};

fprintf(myfile,'Beginning of int of 34 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m29sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt6task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name25{1}; 
row2= name25{2};
row3= name25{3};
row4= name25{4};

col1= name25{5};
col2= name25{6};
col3= name25{7};
col4= name25{8};
col5= name25{9};
col6= name25{10};
col7= name25{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m29sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt6task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name26{1}; 
row2= name26{2};
row3= name26{3};
row4= name26{4};

col1= name26{5};
col2= name26{6};
col3= name26{7};
col4= name26{8};
col5= name26{9};
col6= name26{10};
col7= name26{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt6task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name27{1}; 
row2= name27{2};
row3= name27{3};
row4= name27{4};

col1= name27{5};
col2= name27{6};
col3= name27{7};
col4= name27{8};
col5= name27{9};
col6= name27{10};
col7= name27{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m29sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt6task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name28{1}; 
row2= name28{2};
row3= name28{3};
row4= name28{4};

col1= name28{5};
col2= name28{6};
col3= name28{7};
col4= name28{8};
col5= name28{9};
col6= name28{10};
col7= name28{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 34s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 34;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m34s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m34s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m34s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task1 = 'Please click the box where the column to the left of the column labeled lead intersects the row above the triangle row.';
% % 2/1 name33={'circle' 'square' 'triangle' 'rectangle'  'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
% instructionsInt7task2 = 'Please click the box where the row labeled chemistry intersects the column to the left of the apollo column.';
% % 3/4 name34={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt7task3 = 'Please click the box where the column to the left of the uranus column intersects the ruler row.';
% % 4/5 name35={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt7task4 = 'Please click the box where the row above the row labeled play intersects the column labeled horse.';
% % 3/6 name36={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt7task5 = 'Please click the box where the column to the right of the music column intersects the row above the broccoli row.';
% % 1/5 name37={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};


fprintf(myfile,'Beginning of int of 32 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt7task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name34{1}; 
row2= name34{2};
row3= name34{3};
row4= name34{4};

col1= name34{5};
col2= name34{6};
col3= name34{7};
col4= name34{8};
col5= name34{9};
col6= name34{10};
col7= name34{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m56sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt7task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name35{1}; 
row2= name35{2};
row3= name35{3};
row4= name35{4};

col1= name35{5};
col2= name35{6};
col3= name35{7};
col4= name35{8};
col5= name35{9};
col6= name35{10};
col7= name35{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt7task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name36{1};
row2= name36{2};
row3= name36{3};
row4= name36{4};

col1= name36{5};
col2= name36{6};
col3= name36{7};
col4= name36{8};
col5= name36{9};
col6= name36{10};
col7= name36{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m56sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt7task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name37{1};
row2= name37{2};
row3= name37{3};
row4= name37{4};

col1= name37{5};
col2= name37{6};
col3= name37{7};
col4= name37{8};
col5= name37{9};
col6= name37{10};
col7= name37{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 32s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 32;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m32s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m32s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m32s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN 25 - (Instructions for 39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task1 = 'Please click the box where the column to the right of the column labeled athena intersects the row above the biology row.';
% % 1/5 name48={'physics' 'biology' 'chemistry' 'geology'    'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task2 = 'Please click the box where the drums row intersects the column to the right of the column labeled fox.';
% % 4/4 name49={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task3 = 'Please click the box where the row below the pen row intersects the column to the left of the earth column.';
% % 2/1 name50={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt8task4 = 'Please click the box where the column to the right of the Romania column intersects the trunk row.';
% % 3/6 name51={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt8task5 = 'Please click the box where the column to the left of the column labeled goat intersects the row below the woman row.';
% % 4/1 name52={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task6 = 'Please click the box where the column labeled peach intersects the row below the green row.';
% % 3/2 name53={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};


fprintf(myfile,'Beginning of int of 39 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt8task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name49{1}; 
row2= name49{2};
row3= name49{3};
row4= name49{4};

col1= name49{5};
col2= name49{6};
col3= name49{7};
col4= name49{8};
col5= name49{9};
col6= name49{10};
col7= name49{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int2m31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt8task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name50{1}; 
row2= name50{2};
row3= name50{3};
row4= name50{4};

col1= name50{5};
col2= name50{6};
col3= name50{7};
col4= name50{8};
col5= name50{9};
col6= name50{10};
col7= name50{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt8task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name51{1};
row2= name51{2};
row3= name51{3};
row4= name51{4};

col1= name51{5};
col2= name51{6};
col3= name51{7};
col4= name51{8};
col5= name51{9};
col6= name51{10};
col7= name51{11};
% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int2m31sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt8task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name52{1};
row2= name52{2};
row3= name52{3};
row4= name52{4};

col1= name52{5};
col2= name52{6};
col3= name52{7};
col4= name52{8};
col5= name52{9};
col6= name52{10};
col7= name52{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int2m31sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt8task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name53{1};
row2= name53{2};
row3= name53{3};
row4= name53{4};

col1= name53{5};
col2= name53{6};
col3= name53{7};
col4= name53{8};
col5= name53{9};
col6= name53{10};
col7= name53{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 39;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m39s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m39s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m39s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions 41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

fprintf(myfile,'Beginning of int of 41 seconds \n');

clickBegins=GetSecs(); %
startPracticeInterval3=clickBegins; 
now = clickBegins; %
buttons=[0 0 0]; %
mouseX=0; mouseY=0; %
d=0; %
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;



fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);  
        
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int2m31sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt8task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name54{1};
row2= name54{2};
row3= name54{3};
row4= name54{4};

col1= name54{5};
col2= name54{6};
col3= name54{7};
col4= name54{8};
col5= name54{9};
col6= name54{10};
col7= name54{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Lasts       
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int2m31sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt8task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name55{1};
row2= name55{2};
row3= name55{3};
row4= name55{4};

col1= name55{5};
col2= name55{6};
col3= name55{7};
col4= name55{8};
col5= name55{9};
col6= name55{10};
col7= name55{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask8Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Lasts       
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int2m31sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt8task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name56{1};
row2= name56{2};
row3= name56{3};
row4= name56{4};

col1= name56{5};
col2= name56{6};
col3= name56{7};
col4= name56{8};
col5= name56{9};
col6= name56{10};
col7= name56{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask9Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Lasts      
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt8task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name57{1};
row2= name57{2};
row3= name57{3};
row4= name57{4};

col1= name57{5};
col2= name57{6};
col3= name57{7};
col4= name57{8};
col5= name57{9};
col6= name57{10};
col7= name57{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt8task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name59{1};
row2= name59{2};
row3= name59{3};
row4= name59{4};

col1= name59{5};
col2= name59{6};
col3= name59{7};
col4= name59{8};
col5= name59{9};
col6= name59{10};
col7= name59{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 41s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 41;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m41s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m41s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m41s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN INSTRUCTIONS 32 - (Instructions for 33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


fprintf(myfile,'Beginning of int of 33 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int1m56sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt7task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name38{1};
row2= name38{2};
row3= name38{3};
row4= name38{4};

col1= name38{5};
col2= name38{6};
col3= name38{7};
col4= name38{8};
col5= name38{9};
col6= name38{10};
col7= name38{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int1m56sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt7task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name39{1};
row2= name39{2};
row3= name39{3};
row4= name39{4};

col1= name39{5};
col2= name39{6};
col3= name39{7};
col4= name39{8};
col5= name39{9};
col6= name39{10};
col7= name39{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Lasts        
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int1m56sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt7task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name40{1};
row2= name40{2};
row3= name40{3};
row4= name40{4};

col1= name40{5};
col2= name40{6};
col3= name40{7};
col4= name40{8};
col5= name40{9};
col6= name40{10};
col7= name40{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask8Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Lasts        
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int1m56sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt7task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name41{1};
row2= name41{2};
row3= name41{3};
row4= name41{4};

col1= name41{5};
col2= name41{6};
col3= name41{7};
col4= name41{8};
col5= name41{9};
col6= name41{10};
col7= name41{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask9Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt7task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name42{1};
row2= name42{2};
row3= name42{3};
row4= name42{4};

col1= name42{5};
col2= name42{6};
col3= name42{7};
col4= name42{8};
col5= name42{9};
col6= name42{10};
col7= name42{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 33s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 33;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m33s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m33s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m33s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions for 38s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (2m31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task14 = 'Please click the box where the column to the left of the column labeled fox intersects the row labeled man.';
% % 2/2 name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task15 = 'Please click the box where the row below the row labeled chemistry intersects the column labeled poseidon.';
% % 4/3 name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task16 = 'Please click the box where the column labeled kinetic intersects the row below the chopper row.';
% % 3/1 name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt8task17 = 'Please click the box where the row above the water row intersects the column to the right of the cashew column.';
% % 1/6 name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
% instructionsInt8task18 = 'Please click the box where the space row intersects the column to the right of the column labeled linguine.';
% % 4/6 name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};


fprintf(myfile,'Beginning of int of 38 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int2m31sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt8task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name61{1}; 
row2= name61{2};
row3= name61{3};
row4= name61{4};

col1= name61{5};
col2= name61{6};
col3= name61{7};
col4= name61{8};
col5= name61{9};
col6= name61{10};
col7= name61{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int2m31sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt8task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name62{1}; 
row2= name62{2};
row3= name62{3};
row4= name62{4};

col1= name62{5};
col2= name62{6};
col3= name62{7};
col4= name62{8};
col5= name62{9};
col6= name62{10};
col7= name62{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int2m31sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt8task16, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name63{1}; 
row2= name63{2};
row3= name63{3};
row4= name63{4};

col1= name63{5};
col2= name63{6};
col3= name63{7};
col4= name63{8};
col5= name63{9};
col6= name63{10};
col7= name63{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.15
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.15
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Lasts        
        % 3.3.15
        while ~max(buttons) && now < clickBegins + int2m31sTask16Lasts
        DrawFormattedText(wPtr, instructionsInt8task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name58{1}; 
row2= name58{2};
row3= name58{3};
row4= name58{4};

col1= name58{5};
col2= name58{6};
col3= name58{7};
col4= name58{8};
col5= name58{9};
col6= name58{10};
col7= name58{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.15
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask16Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.15    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask16Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.16
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.16
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Lasts        
        % 3.3.16
        while ~max(buttons) && now < clickBegins + int2m31sTask17Lasts
        DrawFormattedText(wPtr, instructionsInt8task17, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name64{1}; 
row2= name64{2};
row3= name64{3};
row4= name64{4};

col1= name64{5};
col2= name64{6};
col3= name64{7};
col4= name64{8};
col5= name64{9};
col6= name64{10};
col7= name64{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.16
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask17Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.16    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask17Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.17
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.17
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Lasts        
        % 3.3.17
        while ~max(buttons) && now < clickBegins + int2m31sTask18Lasts
        DrawFormattedText(wPtr, instructionsInt8task18, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);


row1= name65{1}; 
row2= name65{2};
row3= name65{3};
row4= name65{4};

col1= name65{5};
col2= name65{6};
col3= name65{7};
col4= name65{8};
col5= name65{9};
col6= name65{10};
col7= name65{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.17
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask18Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.17    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask18Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
        end
              %3.1.17   
end
         %3.1.16
end
                                                            %3.1.15       
                                                             end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                



lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 38s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 38;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m38s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m38s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m38s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task11 = 'Please click the box where the row above the row labeled trunk intersects the column labeled Romania.';
% % 2/5 name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt7task12 = 'Please click the box where the column labeled kinetic intersects the row above the scooter row.';
% % 2/1 name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt7task13 = 'Please click the box where the drums row intersects the column to the right of the column labeled cat.';
% % 4/5 name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'}; 
% instructionsInt7task14 = 'Please click the box where the column labeled orchid intersects the row below the hearts row.';
% % 2/3 name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
% instructionsInt7task15 = 'Please click the box where the row below the row labeled run intersects the column labeled goat.';
% % 2/2 name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};


fprintf(myfile,'Beginning of int of 36 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt7task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name43{1};
row2= name43{2};
row3= name43{3};
row4= name43{4};

col1= name43{5};
col2= name43{6};
col3= name43{7};
col4= name43{8};
col5= name43{9};
col6= name43{10};
col7= name43{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.11
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.11
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Lasts        
        % 3.3.11
        while ~max(buttons) && now < clickBegins + int1m56sTask12Lasts
        DrawFormattedText(wPtr, instructionsInt7task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name44{1}; 
row2= name44{2};
row3= name44{3};
row4= name44{4};

col1= name44{5};
col2= name44{6};
col3= name44{7};
col4= name44{8};
col5= name44{9};
col6= name44{10};
col7= name44{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.11
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask12Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.11    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask12Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int1m56sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt7task13, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name45{1}; 
row2= name45{2};
row3= name45{3};
row4= name45{4};

col1= name45{5};
col2= name45{6};
col3= name45{7};
col4= name45{8};
col5= name45{9};
col6= name45{10};
col7= name45{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int1m56sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt7task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name46{1}; 
row2= name46{2};
row3= name46{3};
row4= name46{4};

col1= name46{5};
col2= name46{6};
col3= name46{7};
col4= name46{8};
col5= name46{9};
col6= name46{10};
col7= name46{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int1m56sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt7task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name47{1}; 
row2= name47{2};
row3= name47{3};
row4= name47{4};

col1= name47{5};
col2= name47{6};
col3= name47{7};
col4= name47{8};
col5= name47{9};
col6= name47{10};
col7= name47{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
                                                            end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 36s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 36;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m36s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m36s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m36s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='End of section 1. Please stop clicking and wait silently for everyone to finish.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please click next to begin section 2.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN INSTRUCTIONS 24 - (Instructions for 31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;


        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);


        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 25 - (31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt2task1 = 'Please click the box where the column to the left of the column labeled salsa intersects the row above the Iowa row.';
% 1/2={'California' 'Iowa' 'Texas' 'Alaska'     'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt2task2 = 'Please click the box where the row below the boots row intersects the column labeled pug.';
% 2/6 name5={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};
instructionsInt2task3 = 'Please click the box where the column to the right of the Cuba column intersects the row below the trunk row.';
% 4/2 name6={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt2task4 = 'Please click the box where the row above the row labeled stratus intersects the column to the left of the allosaurus column.';
% 3/4 name7={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};

fprintf(myfile,'Beginning of int of 31 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);



% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt2task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name5{1};
row2= name5{2};
row3= name5{3};
row4= name5{4};

col1= name5{5};
col2= name5{6};
col3= name5{7};
col4= name5{8};
col5= name5{9};
col6= name5{10};
col7= name5{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt2task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name6{1};
row2= name6{2};
row3= name6{3};
row4= name6{4};

col1= name6{5};
col2= name6{6};
col3= name6{7};
col4= name6{8};
col5= name6{9};
col6= name6{10};
col7= name6{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt2task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name7{1};
row2= name7{2};
row3= name7{3};
row4= name7{4};

col1= name7{5};
col2= name7{6};
col3= name7{7};
col4= name7{8};
col5= name7{9};
col6= name7{10};
col7= name7{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            % 4.1
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;


if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 31;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m31s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m31s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m31s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 28 - (Instructions for 37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt4task1 = 'Please click the box where the row above the row labeled basalt intersects the column labeled folk.';
% 1/6 name12={'limestone' 'basalt' 'coal' 'marble'    'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt4task2 = 'Please click the box where the column to the right of the macadamia column intersects the row above the row labeled air.';
% 2/5 name13={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt4task3 = 'Please click the box where the column to the right of the column labeled linguine intersects the row above the space row.';
% 3/6 name14={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt4task4 = 'Please click the box where the row labeled ruler intersects the column to the left of the column labeled earth.';
% 4/1 name15={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt4task5 = 'Please click the box where the row above the boy row intersects the column to the left of the goat column.';
% 3/1 name16={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of int of 37 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int53sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int53sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt4task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name13{1};
row2= name13{2};
row3= name13{3};
row4= name13{4};

col1= name13{5};
col2= name13{6};
col3= name13{7};
col4= name13{8};
col5= name13{9};
col6= name13{10};
col7= name13{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int53sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt4task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name14{1};
row2= name14{2};
row3= name14{3};
row4= name14{4};

col1= name14{5};
col2= name14{6};
col3= name14{7};
col4= name14{8};
col5= name14{9};
col6= name14{10};
col7= name14{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int53sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt4task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name15{1};
row2= name15{2};
row3= name15{3};
row4= name15{4};

col1= name15{5};
col2= name15{6};
col3= name15{7};
col4= name15{8};
col5= name15{9};
col6= name15{10};
col7= name15{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int53sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt4task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name16{1}; 
row2= name16{2};
row3= name16{3};
row4= name16{4};

col1= name16{5};
col2= name16{6};
col3= name16{7};
col4= name16{8};
col5= name16{9};
col6= name16{10};
col7= name16{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                    % 4.1
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
    end
 
lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 37s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 37;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m37s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m37s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m37s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 28 - (Instructions for 35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


instructionsInt5task1 = 'Please click the box where the row below the row labeled run intersects the classical column.';
% 2/5 name17={'run' 'sleep' 'eat' 'play'              'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt5task2 = 'Please click the box where the row below the triangle row intersects the column to the right of the iron column.';
% 4/4 name18={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt5task3 = 'Please click the box where the column to the right of the column labeled sculpture intersects the tomato row.';
% 1/3 name19={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
instructionsInt5task4 = 'Please click the box where the row above the chemistry row intersects the column to the left of the atlas column.';
% 2/5 name20={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt5task5 = 'Please click the box where the piano row intersects the column labeled cat.';
% 3/4 name21={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of interval of 35 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m9sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt5task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name18{1}; 
row2= name18{2};
row3= name18{3};
row4= name18{4};

col1= name18{5};
col2= name18{6};
col3= name18{7};
col4= name18{8};
col5= name18{9};
col6= name18{10};
col7= name18{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m9sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt5task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name19{1}; 
row2= name19{2};
row3= name19{3};
row4= name19{4};

col1= name19{5};
col2= name19{6};
col3= name19{7};
col4= name19{8};
col5= name19{9};
col6= name19{10};
col7= name19{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt5task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name20{1}; 
row2= name20{2};
row3= name20{3};
row4= name20{4};

col1= name20{5};
col2= name20{6};
col3= name20{7};
col4= name20{8};
col5= name20{9};
col6= name20{10};
col7= name20{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m9sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt5task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name21{1}; 
row2= name21{2};
row3= name21{3};
row4= name21{4};

col1= name21{5};
col2= name21{6};
col3= name21{7};
col4= name21{8};
col5= name21{9};
col6= name21{10};
col7= name21{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 35s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 35;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m35s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m35s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m35s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%SCREEN INSTRUCTIONS 30 - (Instructions for 34s)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 31 - 34s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt6task1 = 'Please click the box where the column to the right of the column labeled daffodil intersects the row above the row labeled clubs.';
% 3/5 name24={'hearts' 'spades' 'diamonds' 'clubs'           'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
instructionsInt6task2 = 'Please click the box where the rooftop row intersects the column to the left of the column labeled goat.';
% 3/1 name25={'bedroom' 'kitchen' 'rooftop' 'balcony' 'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt6task3 = 'Please click the box where the column to the left of the uranus column intersects the row above the pencil row.';
% 1/5 name26={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt6task4 = 'Please click the box where the truck row intersects the column to the right of the column labeled pants.';
% 2/4 name27={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
instructionsInt6task5 = 'Please click the box where the column to the right of the boxer column intersects the row above the flats row.';
% 2/6 name28={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};

fprintf(myfile,'Beginning of int of 34 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m29sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt6task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name25{1}; 
row2= name25{2};
row3= name25{3};
row4= name25{4};

col1= name25{5};
col2= name25{6};
col3= name25{7};
col4= name25{8};
col5= name25{9};
col6= name25{10};
col7= name25{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m29sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt6task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name26{1}; 
row2= name26{2};
row3= name26{3};
row4= name26{4};

col1= name26{5};
col2= name26{6};
col3= name26{7};
col4= name26{8};
col5= name26{9};
col6= name26{10};
col7= name26{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt6task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name27{1}; 
row2= name27{2};
row3= name27{3};
row4= name27{4};

col1= name27{5};
col2= name27{6};
col3= name27{7};
col4= name27{8};
col5= name27{9};
col6= name27{10};
col7= name27{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m29sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt6task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name28{1}; 
row2= name28{2};
row3= name28{3};
row4= name28{4};

col1= name28{5};
col2= name28{6};
col3= name28{7};
col4= name28{8};
col5= name28{9};
col6= name28{10};
col7= name28{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 34s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 34;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m34s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m34s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m34s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task1 = 'Please click the box where the column to the left of the column labeled lead intersects the row above the triangle row.';
% % 2/1 name33={'circle' 'square' 'triangle' 'rectangle'  'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
% instructionsInt7task2 = 'Please click the box where the row labeled chemistry intersects the column to the left of the apollo column.';
% % 3/4 name34={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt7task3 = 'Please click the box where the column to the left of the uranus column intersects the ruler row.';
% % 4/5 name35={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt7task4 = 'Please click the box where the row above the row labeled play intersects the column labeled horse.';
% % 3/6 name36={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt7task5 = 'Please click the box where the column to the right of the music column intersects the row above the broccoli row.';
% % 1/5 name37={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};


fprintf(myfile,'Beginning of int of 32 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt7task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name34{1}; 
row2= name34{2};
row3= name34{3};
row4= name34{4};

col1= name34{5};
col2= name34{6};
col3= name34{7};
col4= name34{8};
col5= name34{9};
col6= name34{10};
col7= name34{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m56sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt7task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name35{1}; 
row2= name35{2};
row3= name35{3};
row4= name35{4};

col1= name35{5};
col2= name35{6};
col3= name35{7};
col4= name35{8};
col5= name35{9};
col6= name35{10};
col7= name35{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt7task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name36{1};
row2= name36{2};
row3= name36{3};
row4= name36{4};

col1= name36{5};
col2= name36{6};
col3= name36{7};
col4= name36{8};
col5= name36{9};
col6= name36{10};
col7= name36{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m56sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt7task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name37{1};
row2= name37{2};
row3= name37{3};
row4= name37{4};

col1= name37{5};
col2= name37{6};
col3= name37{7};
col4= name37{8};
col5= name37{9};
col6= name37{10};
col7= name37{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 32s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 32;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m32s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m32s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m32s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN 25 - (Instructions for 39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task1 = 'Please click the box where the column to the right of the column labeled athena intersects the row above the biology row.';
% % 1/5 name48={'physics' 'biology' 'chemistry' 'geology'    'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task2 = 'Please click the box where the drums row intersects the column to the right of the column labeled fox.';
% % 4/4 name49={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task3 = 'Please click the box where the row below the pen row intersects the column to the left of the earth column.';
% % 2/1 name50={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt8task4 = 'Please click the box where the column to the right of the Romania column intersects the trunk row.';
% % 3/6 name51={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt8task5 = 'Please click the box where the column to the left of the column labeled goat intersects the row below the woman row.';
% % 4/1 name52={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task6 = 'Please click the box where the column labeled peach intersects the row below the green row.';
% % 3/2 name53={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};


fprintf(myfile,'Beginning of int of 39 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt8task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name49{1}; 
row2= name49{2};
row3= name49{3};
row4= name49{4};

col1= name49{5};
col2= name49{6};
col3= name49{7};
col4= name49{8};
col5= name49{9};
col6= name49{10};
col7= name49{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int2m31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt8task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name50{1}; 
row2= name50{2};
row3= name50{3};
row4= name50{4};

col1= name50{5};
col2= name50{6};
col3= name50{7};
col4= name50{8};
col5= name50{9};
col6= name50{10};
col7= name50{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt8task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name51{1};
row2= name51{2};
row3= name51{3};
row4= name51{4};

col1= name51{5};
col2= name51{6};
col3= name51{7};
col4= name51{8};
col5= name51{9};
col6= name51{10};
col7= name51{11};
% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int2m31sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt8task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name52{1};
row2= name52{2};
row3= name52{3};
row4= name52{4};

col1= name52{5};
col2= name52{6};
col3= name52{7};
col4= name52{8};
col5= name52{9};
col6= name52{10};
col7= name52{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int2m31sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt8task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name53{1};
row2= name53{2};
row3= name53{3};
row4= name53{4};

col1= name53{5};
col2= name53{6};
col3= name53{7};
col4= name53{8};
col5= name53{9};
col6= name53{10};
col7= name53{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 39;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m39s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m39s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m39s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions 41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

fprintf(myfile,'Beginning of int of 41 seconds \n');

clickBegins=GetSecs(); %
startPracticeInterval3=clickBegins; 
now = clickBegins; %
buttons=[0 0 0]; %
mouseX=0; mouseY=0; %
d=0; %
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;



fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);  
        
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int2m31sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt8task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name54{1};
row2= name54{2};
row3= name54{3};
row4= name54{4};

col1= name54{5};
col2= name54{6};
col3= name54{7};
col4= name54{8};
col5= name54{9};
col6= name54{10};
col7= name54{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Lasts       
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int2m31sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt8task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name55{1};
row2= name55{2};
row3= name55{3};
row4= name55{4};

col1= name55{5};
col2= name55{6};
col3= name55{7};
col4= name55{8};
col5= name55{9};
col6= name55{10};
col7= name55{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask8Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Lasts       
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int2m31sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt8task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name56{1};
row2= name56{2};
row3= name56{3};
row4= name56{4};

col1= name56{5};
col2= name56{6};
col3= name56{7};
col4= name56{8};
col5= name56{9};
col6= name56{10};
col7= name56{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask9Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Lasts      
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt8task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name57{1};
row2= name57{2};
row3= name57{3};
row4= name57{4};

col1= name57{5};
col2= name57{6};
col3= name57{7};
col4= name57{8};
col5= name57{9};
col6= name57{10};
col7= name57{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt8task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name59{1};
row2= name59{2};
row3= name59{3};
row4= name59{4};

col1= name59{5};
col2= name59{6};
col3= name59{7};
col4= name59{8};
col5= name59{9};
col6= name59{10};
col7= name59{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 41s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 41;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m41s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m41s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m41s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN INSTRUCTIONS 32 - (Instructions for 33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


fprintf(myfile,'Beginning of int of 33 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int1m56sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt7task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name38{1};
row2= name38{2};
row3= name38{3};
row4= name38{4};

col1= name38{5};
col2= name38{6};
col3= name38{7};
col4= name38{8};
col5= name38{9};
col6= name38{10};
col7= name38{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int1m56sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt7task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name39{1};
row2= name39{2};
row3= name39{3};
row4= name39{4};

col1= name39{5};
col2= name39{6};
col3= name39{7};
col4= name39{8};
col5= name39{9};
col6= name39{10};
col7= name39{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Lasts        
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int1m56sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt7task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name40{1};
row2= name40{2};
row3= name40{3};
row4= name40{4};

col1= name40{5};
col2= name40{6};
col3= name40{7};
col4= name40{8};
col5= name40{9};
col6= name40{10};
col7= name40{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask8Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Lasts        
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int1m56sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt7task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name41{1};
row2= name41{2};
row3= name41{3};
row4= name41{4};

col1= name41{5};
col2= name41{6};
col3= name41{7};
col4= name41{8};
col5= name41{9};
col6= name41{10};
col7= name41{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask9Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt7task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name42{1};
row2= name42{2};
row3= name42{3};
row4= name42{4};

col1= name42{5};
col2= name42{6};
col3= name42{7};
col4= name42{8};
col5= name42{9};
col6= name42{10};
col7= name42{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 33s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 33;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m33s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m33s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m33s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions for 38s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (2m31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task14 = 'Please click the box where the column to the left of the column labeled fox intersects the row labeled man.';
% % 2/2 name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task15 = 'Please click the box where the row below the row labeled chemistry intersects the column labeled poseidon.';
% % 4/3 name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task16 = 'Please click the box where the column labeled kinetic intersects the row below the chopper row.';
% % 3/1 name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt8task17 = 'Please click the box where the row above the water row intersects the column to the right of the cashew column.';
% % 1/6 name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
% instructionsInt8task18 = 'Please click the box where the space row intersects the column to the right of the column labeled linguine.';
% % 4/6 name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};


fprintf(myfile,'Beginning of int of 38 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int2m31sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt8task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name61{1}; 
row2= name61{2};
row3= name61{3};
row4= name61{4};

col1= name61{5};
col2= name61{6};
col3= name61{7};
col4= name61{8};
col5= name61{9};
col6= name61{10};
col7= name61{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int2m31sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt8task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name62{1}; 
row2= name62{2};
row3= name62{3};
row4= name62{4};

col1= name62{5};
col2= name62{6};
col3= name62{7};
col4= name62{8};
col5= name62{9};
col6= name62{10};
col7= name62{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int2m31sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt8task16, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name63{1}; 
row2= name63{2};
row3= name63{3};
row4= name63{4};

col1= name63{5};
col2= name63{6};
col3= name63{7};
col4= name63{8};
col5= name63{9};
col6= name63{10};
col7= name63{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.15
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.15
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Lasts        
        % 3.3.15
        while ~max(buttons) && now < clickBegins + int2m31sTask16Lasts
        DrawFormattedText(wPtr, instructionsInt8task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name58{1}; 
row2= name58{2};
row3= name58{3};
row4= name58{4};

col1= name58{5};
col2= name58{6};
col3= name58{7};
col4= name58{8};
col5= name58{9};
col6= name58{10};
col7= name58{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.15
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask16Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.15    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask16Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.16
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.16
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Lasts        
        % 3.3.16
        while ~max(buttons) && now < clickBegins + int2m31sTask17Lasts
        DrawFormattedText(wPtr, instructionsInt8task17, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name64{1}; 
row2= name64{2};
row3= name64{3};
row4= name64{4};

col1= name64{5};
col2= name64{6};
col3= name64{7};
col4= name64{8};
col5= name64{9};
col6= name64{10};
col7= name64{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.16
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask17Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.16    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask17Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.17
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.17
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Lasts        
        % 3.3.17
        while ~max(buttons) && now < clickBegins + int2m31sTask18Lasts
        DrawFormattedText(wPtr, instructionsInt8task18, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);


row1= name65{1}; 
row2= name65{2};
row3= name65{3};
row4= name65{4};

col1= name65{5};
col2= name65{6};
col3= name65{7};
col4= name65{8};
col5= name65{9};
col6= name65{10};
col7= name65{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.17
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask18Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.17    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask18Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
        end
              %3.1.17   
end
         %3.1.16
end
                                                            %3.1.15       
                                                             end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                



lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 38s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 38;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference);
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m38s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m38s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m38s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task11 = 'Please click the box where the row above the row labeled trunk intersects the column labeled Romania.';
% % 2/5 name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt7task12 = 'Please click the box where the column labeled kinetic intersects the row above the scooter row.';
% % 2/1 name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt7task13 = 'Please click the box where the drums row intersects the column to the right of the column labeled cat.';
% % 4/5 name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'}; 
% instructionsInt7task14 = 'Please click the box where the column labeled orchid intersects the row below the hearts row.';
% % 2/3 name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
% instructionsInt7task15 = 'Please click the box where the row below the row labeled run intersects the column labeled goat.';
% % 2/2 name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};


fprintf(myfile,'Beginning of int of 36 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt7task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name43{1};
row2= name43{2};
row3= name43{3};
row4= name43{4};

col1= name43{5};
col2= name43{6};
col3= name43{7};
col4= name43{8};
col5= name43{9};
col6= name43{10};
col7= name43{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.11
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.11
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Lasts        
        % 3.3.11
        while ~max(buttons) && now < clickBegins + int1m56sTask12Lasts
        DrawFormattedText(wPtr, instructionsInt7task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name44{1}; 
row2= name44{2};
row3= name44{3};
row4= name44{4};

col1= name44{5};
col2= name44{6};
col3= name44{7};
col4= name44{8};
col5= name44{9};
col6= name44{10};
col7= name44{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.11
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask12Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.11    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask12Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int1m56sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt7task13, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name45{1}; 
row2= name45{2};
row3= name45{3};
row4= name45{4};

col1= name45{5};
col2= name45{6};
col3= name45{7};
col4= name45{8};
col5= name45{9};
col6= name45{10};
col7= name45{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int1m56sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt7task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name46{1}; 
row2= name46{2};
row3= name46{3};
row4= name46{4};

col1= name46{5};
col2= name46{6};
col3= name46{7};
col4= name46{8};
col5= name46{9};
col6= name46{10};
col7= name46{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int1m56sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt7task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name47{1}; 
row2= name47{2};
row3= name47{3};
row4= name47{4};

col1= name47{5};
col2= name47{6};
col3= name47{7};
col4= name47{8};
col5= name47{9};
col6= name47{10};
col7= name47{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
                                                            end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 36s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 36;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference);
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m36s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m36s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m36s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='End of section 2. Please stop clicking and wait silently for everyone to finish.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 4 - Next
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
WaitSecs(afterMouseInstructions); 

mouseX=0; mouseY=0;

while mouseX<x7 | mouseY>y1
notouch='Please click next to begin section 3.';
 DrawFormattedText(wPtr, notouch, [x2], [y3], [0 0 0]);

 Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
 Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%8
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%








%SCREEN INSTRUCTIONS 24 - (Instructions for 31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;


        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);


        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 31 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 25 - (31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt2task1 = 'Please click the box where the column to the left of the column labeled salsa intersects the row above the Iowa row.';
% 1/2={'California' 'Iowa' 'Texas' 'Alaska'     'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt2task2 = 'Please click the box where the row below the boots row intersects the column labeled pug.';
% 2/6 name5={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};
instructionsInt2task3 = 'Please click the box where the column to the right of the Cuba column intersects the row below the trunk row.';
% 4/2 name6={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
instructionsInt2task4 = 'Please click the box where the row above the row labeled stratus intersects the column to the left of the allosaurus column.';
% 3/4 name7={'cumulus' 'nimbus' 'cirrus' 'stratus'    'velociraptor' 'trodoon' 'rex' 'triceratops' 'allosaurus' 'brachiosaurus' 'diplodocus'};

fprintf(myfile,'Beginning of int of 31 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);



% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt2task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name4{1};
row2= name4{2};
row3= name4{3};
row4= name4{4};

col1= name4{5};
col2= name4{6};
col3= name4{7};
col4= name4{8};
col5= name4{9};
col6= name4{10};
col7= name4{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt2task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name5{1};
row2= name5{2};
row3= name5{3};
row4= name5{4};

col1= name5{5};
col2= name5{6};
col3= name5{7};
col4= name5{8};
col5= name5{9};
col6= name5{10};
col7= name5{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt2task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name6{1};
row2= name6{2};
row3= name6{3};
row4= name6{4};

col1= name6{5};
col2= name6{6};
col3= name6{7};
col4= name6{8};
col5= name6{9};
col6= name6{10};
col7= name6{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt2task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name7{1};
row2= name7{2};
row3= name7{3};
row4= name7{4};

col1= name7{5};
col2= name7{6};
col3= name7{7};
col4= name7{8};
col5= name7{9};
col6= name7{10};
col7= name7{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 31 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            % 4.1
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;


if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 31;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m31s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m31s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m31s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 28 - (Instructions for 37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 37 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (37s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt4task1 = 'Please click the box where the row above the row labeled basalt intersects the column labeled folk.';
% 1/6 name12={'limestone' 'basalt' 'coal' 'marble'    'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt4task2 = 'Please click the box where the column to the right of the macadamia column intersects the row above the row labeled air.';
% 2/5 name13={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
instructionsInt4task3 = 'Please click the box where the column to the right of the column labeled linguine intersects the row above the space row.';
% 3/6 name14={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};
instructionsInt4task4 = 'Please click the box where the row labeled ruler intersects the column to the left of the column labeled earth.';
% 4/1 name15={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt4task5 = 'Please click the box where the row above the boy row intersects the column to the left of the goat column.';
% 3/1 name16={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of int of 37 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int53sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt4task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name12{1};
row2= name12{2};
row3= name12{3};
row4= name12{4};

col1= name12{5};
col2= name12{6};
col3= name12{7};
col4= name12{8};
col5= name12{9};
col6= name12{10};
col7= name12{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int53sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt4task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name13{1};
row2= name13{2};
row3= name13{3};
row4= name13{4};

col1= name13{5};
col2= name13{6};
col3= name13{7};
col4= name13{8};
col5= name13{9};
col6= name13{10};
col7= name13{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int53sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt4task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name14{1};
row2= name14{2};
row3= name14{3};
row4= name14{4};

col1= name14{5};
col2= name14{6};
col3= name14{7};
col4= name14{8};
col5= name14{9};
col6= name14{10};
col7= name14{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int53sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt4task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name15{1};
row2= name15{2};
row3= name15{3};
row4= name15{4};

col1= name15{5};
col2= name15{6};
col3= name15{7};
col4= name15{8};
col5= name15{9};
col6= name15{10};
col7= name15{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int53sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt4task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name16{1}; 
row2= name16{2};
row3= name16{3};
row4= name16{4};

col1= name16{5};
col2= name16{6};
col3= name16{7};
col4= name16{8};
col5= name16{9};
col6= name16{10};
col7= name16{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int53sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int53sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int53sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 37 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                    % 4.1
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
    end
 
lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 37s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 37;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m37s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m37s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m37s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 28 - (Instructions for 35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced Interval: 35 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
            
         
%SCREEN INSTRUCTIONS 29 - (35s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


instructionsInt5task1 = 'Please click the box where the row below the row labeled run intersects the classical column.';
% 2/5 name17={'run' 'sleep' 'eat' 'play'              'jazz' 'pop' 'salsa' 'rap' 'classical' 'folk' 'rock'};
instructionsInt5task2 = 'Please click the box where the row below the triangle row intersects the column to the right of the iron column.';
% 4/4 name18={'circle' 'square' 'triangle' 'rectangle' 'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
instructionsInt5task3 = 'Please click the box where the column to the right of the column labeled sculpture intersects the tomato row.';
% 1/3 name19={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};
instructionsInt5task4 = 'Please click the box where the row above the chemistry row intersects the column to the left of the atlas column.';
% 2/5 name20={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
instructionsInt5task5 = 'Please click the box where the piano row intersects the column labeled cat.';
% 3/4 name21={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};

fprintf(myfile,'Beginning of interval of 35 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');


DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m9sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt5task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name17{1}; 
row2= name17{2};
row3= name17{3};
row4= name17{4};

col1= name17{5};
col2= name17{6};
col3= name17{7};
col4= name17{8};
col5= name17{9};
col6= name17{10};
col7= name17{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt5task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name18{1}; 
row2= name18{2};
row3= name18{3};
row4= name18{4};

col1= name18{5};
col2= name18{6};
col3= name18{7};
col4= name18{8};
col5= name18{9};
col6= name18{10};
col7= name18{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m9sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt5task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name19{1}; 
row2= name19{2};
row3= name19{3};
row4= name19{4};

col1= name19{5};
col2= name19{6};
col3= name19{7};
col4= name19{8};
col5= name19{9};
col6= name19{10};
col7= name19{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    
  fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m9sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt5task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name20{1}; 
row2= name20{2};
row3= name20{3};
row4= name20{4};

col1= name20{5};
col2= name20{6};
col3= name20{7};
col4= name20{8};
col5= name20{9};
col6= name20{10};
col7= name20{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m9sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt5task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name21{1}; 
row2= name21{2};
row3= name21{3};
row4= name21{4};

col1= name21{5};
col2= name21{6};
col3= name21{7};
col4= name21{8};
col5= name21{9};
col6= name21{10};
col7= name21{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m9sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
      fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m9sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m9sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 35 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 35s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 35;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m35s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m35s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m35s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%SCREEN INSTRUCTIONS 30 - (Instructions for 34s)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 34 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end

        

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 31 - 34s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
instructionsInt6task1 = 'Please click the box where the column to the right of the column labeled daffodil intersects the row above the row labeled clubs.';
% 3/5 name24={'hearts' 'spades' 'diamonds' 'clubs'           'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
instructionsInt6task2 = 'Please click the box where the rooftop row intersects the column to the left of the column labeled goat.';
% 3/1 name25={'bedroom' 'kitchen' 'rooftop' 'balcony' 'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
instructionsInt6task3 = 'Please click the box where the column to the left of the uranus column intersects the row above the pencil row.';
% 1/5 name26={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
instructionsInt6task4 = 'Please click the box where the truck row intersects the column to the right of the column labeled pants.';
% 2/4 name27={'car' 'truck' 'bike' 'bus'               'shoe' 'coat' 'pants' 'scarf' 'shorts' 'gloves' 'jacket'};
instructionsInt6task5 = 'Please click the box where the column to the right of the boxer column intersects the row above the flats row.';
% 2/6 name28={'boots' 'moccasin' 'flats' 'sandals'     'terrier' 'beagle' 'chihuahua' 'mastiff' 'boxer' 'pug' 'greyhound'};

fprintf(myfile,'Beginning of int of 34 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);

% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m29sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt6task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name24{1}; 
row2= name24{2};
row3= name24{3};
row4= name24{4};

col1= name24{5};
col2= name24{6};
col3= name24{7};
col4= name24{8};
col5= name24{9};
col6= name24{10};
col7= name24{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt6task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name25{1}; 
row2= name25{2};
row3= name25{3};
row4= name25{4};

col1= name25{5};
col2= name25{6};
col3= name25{7};
col4= name25{8};
col5= name25{9};
col6= name25{10};
col7= name25{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m29sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt6task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name26{1}; 
row2= name26{2};
row3= name26{3};
row4= name26{4};

col1= name26{5};
col2= name26{6};
col3= name26{7};
col4= name26{8};
col5= name26{9};
col6= name26{10};
col7= name26{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m29sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt6task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name27{1}; 
row2= name27{2};
row3= name27{3};
row4= name27{4};

col1= name27{5};
col2= name27{6};
col3= name27{7};
col4= name27{8};
col5= name27{9};
col6= name27{10};
col7= name27{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m29sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt6task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name28{1}; 
row2= name28{2};
row3= name28{3};
row4= name28{4};

col1= name28{5};
col2= name28{6};
col3= name28{7};
col4= name28{8};
col5= name28{9};
col6= name28{10};
col7= name28{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m29sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m29sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m29sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 34 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

        % 3.1      
        end
    % 2.1    
    end
% 1        
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end


fprintf(myfile,'The length of the 34s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 34;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m34s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m34s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m34s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 32 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (32s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task1 = 'Please click the box where the column to the left of the column labeled lead intersects the row above the triangle row.';
% % 2/1 name33={'circle' 'square' 'triangle' 'rectangle'  'oxygen' 'lead' 'iron' 'arsenic' 'silicon' 'lithium' 'carbon'};
% instructionsInt7task2 = 'Please click the box where the row labeled chemistry intersects the column to the left of the apollo column.';
% % 3/4 name34={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt7task3 = 'Please click the box where the column to the left of the uranus column intersects the ruler row.';
% % 4/5 name35={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt7task4 = 'Please click the box where the row above the row labeled play intersects the column labeled horse.';
% % 3/6 name36={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt7task5 = 'Please click the box where the column to the right of the music column intersects the row above the broccoli row.';
% % 1/5 name37={'tomato' 'broccoli' 'squash' 'carrot  ' 'painting' 'sculpture' 'dance' 'music' 'film' 'architecture' 'theatre'};


fprintf(myfile,'Beginning of int of 32 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt7task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name34{1}; 
row2= name34{2};
row3= name34{3};
row4= name34{4};

col1= name34{5};
col2= name34{6};
col3= name34{7};
col4= name34{8};
col5= name34{9};
col6= name34{10};
col7= name34{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int1m56sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt7task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name35{1}; 
row2= name35{2};
row3= name35{3};
row4= name35{4};

col1= name35{5};
col2= name35{6};
col3= name35{7};
col4= name35{8};
col5= name35{9};
col6= name35{10};
col7= name35{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int1m56sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt7task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name36{1};
row2= name36{2};
row3= name36{3};
row4= name36{4};

col1= name36{5};
col2= name36{6};
col3= name36{7};
col4= name36{8};
col5= name36{9};
col6= name36{10};
col7= name36{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int1m56sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt7task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name37{1};
row2= name37{2};
row3= name37{3};
row4= name37{4};

col1= name37{5};
col2= name37{6};
col3= name37{7};
col4= name37{8};
col5= name37{9};
col6= name37{10};
col7= name37{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 32 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 32s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 32;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m32s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m32s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m32s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN 25 - (Instructions for 39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 39 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (39s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task1 = 'Please click the box where the column to the right of the column labeled athena intersects the row above the biology row.';
% % 1/5 name48={'physics' 'biology' 'chemistry' 'geology'    'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task2 = 'Please click the box where the drums row intersects the column to the right of the column labeled fox.';
% % 4/4 name49={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task3 = 'Please click the box where the row below the pen row intersects the column to the left of the earth column.';
% % 2/1 name50={'pen' 'pencil' 'eraser' 'ruler'         'saturn' 'earth' 'neptune' 'mercury' 'jupiter' 'uranus' 'venus'};
% instructionsInt8task4 = 'Please click the box where the column to the right of the Romania column intersects the trunk row.';
% % 3/6 name51={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt8task5 = 'Please click the box where the column to the left of the column labeled goat intersects the row below the woman row.';
% % 4/1 name52={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task6 = 'Please click the box where the column labeled peach intersects the row below the green row.';
% % 3/2 name53={'red' 'green' 'blue' 'yellow'            'banana' 'peach' 'apple' 'grape' 'orange' 'pear' 'lemon'};


fprintf(myfile,'Beginning of int of 39 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Lasts        
        % 3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask2Lasts
        DrawFormattedText(wPtr, instructionsInt8task2, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name49{1}; 
row2= name49{2};
row3= name49{3};
row4= name49{4};

col1= name49{5};
col2= name49{6};
col3= name49{7};
col4= name49{8};
col5= name49{9};
col6= name49{10};
col7= name49{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask2Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask2Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask2Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

     
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.2
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.2
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Lasts        
        % 3.3.2
        while ~max(buttons) && now < clickBegins + int2m31sTask3Lasts
        DrawFormattedText(wPtr, instructionsInt8task3, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name50{1}; 
row2= name50{2};
row3= name50{3};
row4= name50{4};

col1= name50{5};
col2= name50{6};
col3= name50{7};
col4= name50{8};
col5= name50{9};
col6= name50{10};
col7= name50{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.2
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask3Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.2    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask3Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask3Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.3
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.3
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Lasts        
        % 3.3.3
        while ~max(buttons) && now < clickBegins + int2m31sTask4Lasts
        DrawFormattedText(wPtr, instructionsInt8task4, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name51{1};
row2= name51{2};
row3= name51{3};
row4= name51{4};

col1= name51{5};
col2= name51{6};
col3= name51{7};
col4= name51{8};
col5= name51{9};
col6= name51{10};
col7= name51{11};
% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask4Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.3    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask4Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask4Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.4
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.4
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Lasts        
        % 3.3.4
        while ~max(buttons) && now < clickBegins + int2m31sTask5Lasts
        DrawFormattedText(wPtr, instructionsInt8task5, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name52{1};
row2= name52{2};
row3= name52{3};
row4= name52{4};

col1= name52{5};
col2= name52{6};
col3= name52{7};
col4= name52{8};
col5= name52{9};
col6= name52{10};
col7= name52{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.4
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask5Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.4    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask5Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask5Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int2m31sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt8task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name53{1};
row2= name53{2};
row3= name53{3};
row4= name53{4};

col1= name53{5};
col2= name53{6};
col3= name53{7};
col4= name53{8};
col5= name53{9};
col6= name53{10};
col7= name53{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 39 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    end
end
    end
end
    end
end
    end
end
    end
end
    end
end

lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 31s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 39;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m39s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m39s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m39s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions 41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announcd interval: 41 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (41s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

fprintf(myfile,'Beginning of int of 41 seconds \n');

clickBegins=GetSecs(); %
startPracticeInterval3=clickBegins; 
now = clickBegins; %
buttons=[0 0 0]; %
mouseX=0; mouseY=0; %
d=0; %
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;



fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);  
        
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int2m31sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt8task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name54{1};
row2= name54{2};
row3= name54{3};
row4= name54{4};

col1= name54{5};
col2= name54{6};
col3= name54{7};
col4= name54{8};
col5= name54{9};
col6= name54{10};
col7= name54{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Lasts       
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int2m31sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt8task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name55{1};
row2= name55{2};
row3= name55{3};
row4= name55{4};

col1= name55{5};
col2= name55{6};
col3= name55{7};
col4= name55{8};
col5= name55{9};
col6= name55{10};
col7= name55{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask8Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Lasts       
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int2m31sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt8task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name56{1};
row2= name56{2};
row3= name56{3};
row4= name56{4};

col1= name56{5};
col2= name56{6};
col3= name56{7};
col4= name56{8};
col5= name56{9};
col6= name56{10};
col7= name56{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask9Lasts
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Lasts      
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt8task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name57{1};
row2= name57{2};
row3= name57{3};
row4= name57{4};

col1= name57{5};
col2= name57{6};
col3= name57{7};
col4= name57{8};
col5= name57{9};
col6= name57{10};
col7= name57{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int2m31sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt8task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name59{1};
row2= name59{2};
row3= name59{3};
row4= name59{4};

col1= name59{5};
col2= name59{6};
col3= name59{7};
col4= name59{8};
col5= name59{9};
col6= name59{10};
col7= name59{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 41 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 41s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 41;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
        
text='0m41s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);

         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m41s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m41s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





%SCREEN INSTRUCTIONS 32 - (Instructions for 33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 33 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (33s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


fprintf(myfile,'Beginning of int of 33 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0; 
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.5
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.5
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C4(1) | mouseX > C4(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Lasts        
        % 3.3.5
        while ~max(buttons) && now < clickBegins + int1m56sTask6Lasts
        DrawFormattedText(wPtr, instructionsInt7task6, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name38{1};
row2= name38{2};
row3= name38{3};
row4= name38{4};

col1= name38{5};
col2= name38{6};
col3= name38{7};
col4= name38{8};
col5= name38{9};
col6= name38{10};
col7= name38{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.5
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C4(1) && mouseX <= C4(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask6Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.5    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask6Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask6Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.6
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.6
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Lasts        
        % 3.3.6
        while ~max(buttons) && now < clickBegins + int1m56sTask7Lasts
        DrawFormattedText(wPtr, instructionsInt7task7, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name39{1};
row2= name39{2};
row3= name39{3};
row4= name39{4};

col1= name39{5};
col2= name39{6};
col3= name39{7};
col4= name39{8};
col5= name39{9};
col6= name39{10};
col7= name39{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.6
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask7Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.6    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask7Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask7Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.7
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.7
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Lasts        
        % 3.3.7
        while ~max(buttons) && now < clickBegins + int1m56sTask8Lasts
        DrawFormattedText(wPtr, instructionsInt7task8, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    

row1= name40{1};
row2= name40{2};
row3= name40{3};
row4= name40{4};

col1= name40{5};
col2= name40{6};
col3= name40{7};
col4= name40{8};
col5= name40{9};
col6= name40{10};
col7= name40{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.7
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask8Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.7    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask8Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask8Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.8
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.8
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Lasts        
        % 3.3.8
        while ~max(buttons) && now < clickBegins + int1m56sTask9Lasts
        DrawFormattedText(wPtr, instructionsInt7task9, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name41{1};
row2= name41{2};
row3= name41{3};
row4= name41{4};

col1= name41{5};
col2= name41{6};
col3= name41{7};
col4= name41{8};
col5= name41{9};
col6= name41{10};
col7= name41{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.8
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask9Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.8    
    end
    

        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask9Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask9Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.9
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.9
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask10Lasts
        DrawFormattedText(wPtr, instructionsInt7task10, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name42{1};
row2= name42{2};
row3= name42{3};
row4= name42{4};

col1= name42{5};
col2= name42{6};
col3= name42{7};
col4= name42{8};
col5= name42{9};
col6= name42{10};
col7= name42{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.9
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask10Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.9    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask10Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask10Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 33 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            %3.1.3
            end
          %3.1.2
          end
        % 3.1      
        end
    % 2.1    
    end
% 1        
    end


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 33s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 33;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference)
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m33s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m33s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m33s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




%SCREEN 25 - (Instructions for 38s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
        
        WaitSecs(startIntervalInstructions);
        
        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 38 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN 26 - (2m31s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt8task14 = 'Please click the box where the column to the left of the column labeled fox intersects the row labeled man.';
% % 2/2 name61={'girl' 'man' 'woman' 'boy'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};
% instructionsInt8task15 = 'Please click the box where the row below the row labeled chemistry intersects the column labeled poseidon.';
% % 4/3 name62={'physics' 'biology' 'chemistry' 'geology' 'hades' 'zeus' 'poseidon' 'athena' 'apollo' 'atlas' 'perses'};
% instructionsInt8task16 = 'Please click the box where the column labeled kinetic intersects the row below the chopper row.';
% % 3/1 name63={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt8task17 = 'Please click the box where the row above the water row intersects the column to the right of the cashew column.';
% % 1/6 name64={'fire' 'water' 'air' 'earth'            'walnut' 'peanut' 'almond' 'macadamia' 'cashew' 'pecan' 'pistachio'};
% instructionsInt8task18 = 'Please click the box where the space row intersects the column to the right of the column labeled linguine.';
% % 4/6 name65={'sea' 'sky' 'earth' 'space'             'spaghetti' 'capellini' 'fusilli' 'lasagne' 'linguine' 'fettuccine' 'cannelloni'};


fprintf(myfile,'Beginning of int of 38 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int2m31sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt8task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name48{1}; 
row2= name48{2};
row3= name48{3};
row4= name48{4};

col1= name48{5};
col2= name48{6};
col3= name48{7};
col4= name48{8};
col5= name48{9};
col6= name48{10};
col7= name48{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int2m31sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt8task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name61{1}; 
row2= name61{2};
row3= name61{3};
row4= name61{4};

col1= name61{5};
col2= name61{6};
col3= name61{7};
col4= name61{8};
col5= name61{9};
col6= name61{10};
col7= name61{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int2m31sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt8task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name62{1}; 
row2= name62{2};
row3= name62{3};
row4= name62{4};

col1= name62{5};
col2= name62{6};
col3= name62{7};
col4= name62{8};
col5= name62{9};
col6= name62{10};
col7= name62{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R3(2) | mouseY > R3(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int2m31sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt8task16, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name63{1}; 
row2= name63{2};
row3= name63{3};
row4= name63{4};

col1= name63{5};
col2= name63{6};
col3= name63{7};
col4= name63{8};
col5= name63{9};
col6= name63{10};
col7= name63{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R3(2) && mouseY <= R3(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.15
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.15
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Lasts        
        % 3.3.15
        while ~max(buttons) && now < clickBegins + int2m31sTask16Lasts
        DrawFormattedText(wPtr, instructionsInt8task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   
row1= name58{1}; 
row2= name58{2};
row3= name58{3};
row4= name58{4};

col1= name58{5};
col2= name58{6};
col3= name58{7};
col4= name58{8};
col5= name58{9};
col6= name58{10};
col7= name58{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.15
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask16Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.15    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask16Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask16Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.16
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.16
    while (mouseY < R1(2) | mouseY > R1(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Lasts        
        % 3.3.16
        while ~max(buttons) && now < clickBegins + int2m31sTask17Lasts
        DrawFormattedText(wPtr, instructionsInt8task17, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);

row1= name64{1}; 
row2= name64{2};
row3= name64{3};
row4= name64{4};

col1= name64{5};
col2= name64{6};
col3= name64{7};
col4= name64{8};
col5= name64{9};
col6= name64{10};
col7= name64{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.16
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R1(2) && mouseY <= R1(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask17Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.16    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask17Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask17Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.17
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.17
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C6(1) | mouseX > C6(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Lasts        
        % 3.3.17
        while ~max(buttons) && now < clickBegins + int2m31sTask18Lasts
        DrawFormattedText(wPtr, instructionsInt8task18, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);


row1= name65{1}; 
row2= name65{2};
row3= name65{3};
row4= name65{4};

col1= name65{5};
col2= name65{6};
col3= name65{7};
col4= name65{8};
col5= name65{9};
col6= name65{10};
col7= name65{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.17
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C6(1) && mouseX <= C6(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int2m31sTask18Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.17    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int2m31sTask18Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int2m31sTask18Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 38 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 

        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
        end
              %3.1.17   
end
         %3.1.16
end
                                                            %3.1.15       
                                                             end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                



lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 38s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 38;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference);
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m38s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m38s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m38s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 32 - (Instructions for 36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        WaitSecs(startIntervalInstructions);

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Announced interval: 36 seconds.\n\n\n\n\nClick "Start Interval" to start the interval.', [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
        
 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 33 - (36s int)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% instructionsInt7task11 = 'Please click the box where the row above the row labeled trunk intersects the column labeled Romania.';
% % 2/5 name43={'buds' 'leaves' 'trunk' 'roots'          'Cuba' 'Ghana' 'Iraq' 'Nigeria' 'Romania' 'Italy' 'Japan'};
% instructionsInt7task12 = 'Please click the box where the column labeled kinetic intersects the row above the scooter row.';
% % 2/1 name44={'touring' 'chopper' 'scooter' 'offroad'  'kinetic' 'potential' 'thermal' 'chemical' 'electrical' 'nuclear' 'magnetic'};
% instructionsInt7task13 = 'Please click the box where the drums row intersects the column to the right of the column labeled cat.';
% % 4/5 name45={'guitar' 'trumpet' 'piano' 'drums'       'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'}; 
% instructionsInt7task14 = 'Please click the box where the column labeled orchid intersects the row below the hearts row.';
% % 2/3 name46={'hearts' 'spades' 'diamonds' 'clubs'          'rose' 'daisie' 'orchid' 'daffodil' 'iris' 'sunflower' 'sweetpea'};
% instructionsInt7task15 = 'Please click the box where the row below the row labeled run intersects the column labeled goat.';
% % 2/2 name47={'run' 'sleep' 'eat' 'play'              'cow' 'goat' 'fox' 'cat' 'dog' 'horse' 'duck'};


fprintf(myfile,'Beginning of int of 36 seconds \n');

clickBegins=GetSecs();
startPracticeInterval3=clickBegins;
now = clickBegins;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;
counterCorrectas=0;
counterIncorrectas=0;
counterBoxTime=0;
money=0;
buttonEnd=0;

fprintf(myfile,'Beginning of task \n');

DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);

WaitSecs(afterStartInterval);


% If hasnt clicked on "end int" button
% 1
if buttonEnd == 0
    
    % Until he presses the end button or time for task runs out
    % 2
while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Lasts        
        % 3
        while ~max(buttons) && now < clickBegins + int1m56sTask1Lasts
        DrawFormattedText(wPtr, instructionsInt7task1, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    
row1= name33{1}; 
row2= name33{2};
row3= name33{3};
row4= name33{4};

col1= name33{5};
col2= name33{6};
col3= name33{7};
col4= name33{8};
col5= name33{9};
col6= name33{10};
col7= name33{11};

% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/3),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/3),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/3),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/3),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/3),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/3),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startPracticeInterval3;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
        
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask1Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
    
    
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions); % Since there is a click
    % 2    
    end
    
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask1Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask1Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.10
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.10
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Lasts        
        % 3.3.10
        while ~max(buttons) && now < clickBegins + int1m56sTask11Lasts
        DrawFormattedText(wPtr, instructionsInt7task11, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name43{1};
row2= name43{2};
row3= name43{3};
row4= name43{4};

col1= name43{5};
col2= name43{6};
col3= name43{7};
col4= name43{8};
col5= name43{9};
col6= name43{10};
col7= name43{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.10
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask11Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.10    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask11Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask11Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.11
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.11
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C1(1) | mouseX > C1(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Lasts        
        % 3.3.11
        while ~max(buttons) && now < clickBegins + int1m56sTask12Lasts
        DrawFormattedText(wPtr, instructionsInt7task12, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
    


row1= name44{1}; 
row2= name44{2};
row3= name44{3};
row4= name44{4};

col1= name44{5};
col2= name44{6};
col3= name44{7};
col4= name44{8};
col5= name44{9};
col6= name44{10};
col7= name44{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.11
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C1(1) && mouseX <= C1(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask12Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.11    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask12Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask12Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.12
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.12
    while (mouseY < R4(2) | mouseY > R4(4) | mouseX < C5(1) | mouseX > C5(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Lasts        
        % 3.3.12
        while ~max(buttons) && now < clickBegins + int1m56sTask13Lasts
        DrawFormattedText(wPtr, instructionsInt7task13, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name45{1}; 
row2= name45{2};
row3= name45{3};
row4= name45{4};

col1= name45{5};
col2= name45{6};
col3= name45{7};
col4= name45{8};
col5= name45{9};
col6= name45{10};
col7= name45{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.12
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R4(2) && mouseY <= R4(4) && mouseX >= C5(1) && mouseX <= C5(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask13Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.12    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask13Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask13Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.13
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.13
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C3(1) | mouseX > C3(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Lasts        
        % 3.3.13
        while ~max(buttons) && now < clickBegins + int1m56sTask14Lasts
        DrawFormattedText(wPtr, instructionsInt7task14, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name46{1}; 
row2= name46{2};
row3= name46{3};
row4= name46{4};

col1= name46{5};
col2= name46{6};
col3= name46{7};
col4= name46{8};
col5= name46{9};
col6= name46{10};
col7= name46{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.13
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C3(1) && mouseX <= C3(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask14Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.13    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask14Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask14Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
clickBegins=GetSecs();
now = clickBegins;
startTaskTime = now;
buttons=[0 0 0];
mouseX=0; mouseY=0;
d=0;

% If hasnt clicked on "end int" button
% 3.1.14
if buttonEnd == 0
    
    fprintf(myfile,'Beginning of task \n');

    % Until he presses the end button or time for task runs out
    % 3.2.14
    while (mouseY < R2(2) | mouseY > R2(4) | mouseX < C2(1) | mouseX > C2(3)) && (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Lasts        
        % 3.3.14
        while ~max(buttons) && now < clickBegins + int1m56sTask15Lasts
        DrawFormattedText(wPtr, instructionsInt7task15, [positionX], [positionY], [0 0 0]);
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
   

row1= name47{1}; 
row2= name47{2};
row3= name47{3};
row4= name47{4};

col1= name47{5};
col2= name47{6};
col3= name47{7};
col4= name47{8};
col5= name47{9};
col6= name47{10};
col7= name47{11};


% ROWS
Screen('DrawText',wPtr,row1,x1+(x1/4),y4+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row2,x1+(x1/4),y5+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row3,x1+(x1/4),y6+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,row4,x1+(x1/4),y7+(y1/2),[0 0 0]);
% COLUMNS
Screen('DrawText',wPtr,col1,x2+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col2,x3+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col3,x4+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col4,x5+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col5,x6+(x1/4),y3+(y1/2),[0 0 0]);
Screen('DrawText',wPtr,col6,x7+(x1/4),y3+(y1/2),[0 0 0]);
%Screen('DrawText',wPtr,col7,x7+(x1/3),y3+(y1/2),[0 0 0]);

% Draw lines
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x8, y3, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y4, x8, y4, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y5, x8, y5, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y6, x8, y6, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y7, x8, y7, [3]); Screen('DrawLine',wPtr, [0 0 0], x1, y8, x8, y8, [6]);
Screen('DrawLine',wPtr, [0 0 0], x1, y3, x1, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x2, y3, x2, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x3, y3, x3, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x4, y3, x4, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x5, y3, x5, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x6, y3, x6, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y3, x7, y8, [3]); Screen('DrawLine',wPtr, [0 0 0], x8, y3, x8, y8, [6]);

% Labels Directions
Screen('DrawText',wPtr,'Above',x1/3,y4,[0 200 0]);
Screen('DrawText',wPtr,'Below',x1/3,y7+y1/1.6,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x1/2, y4+y1/3, x1/2, y7+y1/2, [2]);

Screen('DrawText',wPtr,'Left',x2,y3-y1/3,[0 200 0]);
Screen('DrawText',wPtr,'Right',x8-x1/2,y3-y1/3,[0 200 0]);
Screen('DrawLine',wPtr, [0 200 0], x2+x1/3, y3-y1/4, x7+x1/3, y3-y1/4, [2]);

Screen('Flip',wPtr);
        

        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        % 3.3.14
        end
        
            % Register if clicked on button end int 
            if max(buttons)>0 && (mouseX>x7 && mouseY<y1) % Check if end interval button
                buttonEnd=1; 
                timeIntoTaskWithNoResponse = now - startTaskTime;
                fprintf(myfile,'Time into Task with no response %.5f \n', timeIntoTaskWithNoResponse);

            else
                buttonEnd=0;
                
                 if max(buttons)>0 % Check if clicked on Row3/Col3
                    if mouseY >= R2(2) && mouseY <= R2(4) && mouseX >= C2(1) && mouseX <= C2(3)
                    d=1; % If this happens we get out of while
                    counterCorrectas = counterCorrectas + 1;
                    %DrawFormattedText(wPtr, correctAnswer, [x3], [y3], [0 0 0]);

                    else
                    d=0;
                    counterIncorrectas = counterIncorrectas + 1;
                    %DrawFormattedText(wPtr, wrongAnswer, [x3], [y3], [0 0 0]);

                    end
                    
                    Screen('Flip',wPtr);
                    WaitSecs(taskAnswer); % Since there is a click

                 end
                
                fprintf(myfile,'%i \n', d);
                
            end
            
            
            
    % If I exited the while because time was up then mark wrong answer
    if now > clickBegins + int1m56sTask15Lasts   
        counterIncorrectas = counterIncorrectas + 1;
        fprintf(myfile,'This last 0 was because time was up. \n');
        DrawFormattedText(wPtr, wrongAnswerTime, [x3], [y3], [0 0 0]);
        counterBoxTime=counterBoxTime+1;
        Screen('Flip',wPtr);
        WaitSecs(taskAnswer); % Since there is a click
    else
        timeBeforeClick = now - clickBegins;
        fprintf(myfile,'This last interval took the user %.5f seconds to click since begining of task. \n',timeBeforeClick);
    end
            
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
    % 3.2.14    
    end
    
        fprintf(myfile,'End of task. \n');

    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % If hasnt clicked on "end int" button
    % 2.1
    if buttonEnd == 0

        clickBegins=GetSecs();
        now = clickBegins;
        buttons=[0 0 0];
        mouseX=0; mouseY=0;

        % These two whiles wait for a click on the "End Inverval" button or the time to pass to the next screen (with the task) 
        % 2.2
        while (mouseX<x7 | mouseY>y1) && now < clickBegins + int1m56sTask15Wait
            % 2.3
            while ~max(buttons) && now < clickBegins + int1m56sTask15Wait
        Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        DrawFormattedText(wPtr, EndInterval, x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('DrawText',wPtr,'Announced Interval: 36 seconds',x6+(x1/3),y1+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);
            
        [mouseX,mouseY,buttons] = GetMouse(); % x and y only exist if clicked
        
        now = GetSecs();
        
            % 2.3
            end
        
            % Register if clicked on button end int
            if max(buttons)>0 && mouseX>x7 && mouseY<y1
                buttonEnd=1;
            else
                buttonEnd=0;
            end
        
        buttons=[0 0 0];
        
        %%% Wait secs after mouse %%%
        WaitSecs(afterMouseInstructions);
        
        % 2.2
        end 
        
        
        
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

                                                            % 4.1
                                                            end
                                                        % 3.1.14
                                                        end
                                                    % 3.1.13
                                                    end
                                                % 3.1.12
                                                end
                                            %3.1.11
                                            end
                                        %3.1.10
                                        end
                                    %3.1.9
                                    end
                                %3.1.8
                                end
                        %3.1.7
                        end
                        %3.1.6
                    end
                    %3.1.5
                    end
                %3.1.4
                end
            


lengthPracticeInterval = now - startPracticeInterval3;

if (counterCorrectas+counterIncorrectas)>0
    if (counterCorrectas/(counterCorrectas+counterIncorrectas))>.74
    getPayed=1;
    else
    getPayed=0;
    end
else
    getPayed=1;
end

fprintf(myfile,'The length of the 36s interval is %.5f \n\n', lengthPracticeInterval);

Answer = 'Interval Ended. Please click the button labeled "Next" to continue.';

realInt = 36;
percentualDifference = (abs(lengthPracticeInterval-realInt))/realInt;
if percentualDifference >0.4
   getPayedYes='$0';
end

if getPayed==1
    % Section 1 Payment
    if percentualDifference <= 0.4 && getPayed==1
       money=20-50*(percentualDifference);
       getPayedYes=num2str(money);
    end
else
getPayedYes='$0';
    
end
      
        
text='0m36s';
deviationInt = abs(lengthPracticeInterval-realInt);
proportionCorrectas = counterCorrectas/(counterCorrectas+counterIncorrectas);


         fprintf(myfileData, '%.2f \n', proportionCorrectas);
         fprintf(myfileData, '%.5f \n', lengthPracticeInterval);
fprintf(payoffs, '%s \t\t %.1f \t\t %.1f \t\t %.1f \t\t %.2f \t\t %i \t\t %i \t\t\t %.2f \t\t %s \t %s \t\t %.1f \n\n', text, realInt, lengthPracticeInterval, deviationInt, percentualDifference, counterCorrectas, counterIncorrectas, proportionCorrectas, getPayedYes, intNumber0m36s, counterBoxTime);
fprintf(shortPayoffs, '%s \t\t %s \t\t\t %s\n\n',intNumber0m36s, text, getPayedYes);
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

mouseX=0; mouseY=0;

DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);
WaitSecs(afterStopInterval);

while mouseX<x7 | mouseY>y1
DrawFormattedText(wPtr, Answer, [positionX], [positionY], [0 0 0]);
Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
Screen('DrawText',wPtr,Next,x7+(x1/3),y0+(y1/2),[0 0 0]);
Screen('Flip',wPtr);

% Wait for mouse click in next button
[clicks,mouseX,mouseY,whichButton] = GetClicks();
end





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




























%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%SCREEN INSTRUCTIONS 24 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'End of section 3. Please stop clicking and wait silently for everyone to finish.', [positionX], [positionY], [0 0 0]);
        %Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        %Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
       

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%SCREEN INSTRUCTIONS 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Screen('TextFont',wPtr,'Helvetica');
Screen('TextSize',wPtr,18);

mouseX=0; mouseY=0;

        % Wait for key press
        while mouseX<x7 | mouseY>y1
        DrawFormattedText(wPtr, 'Stop clicking now. Please raise your hand to continue.', [positionX], [positionY], [0 0 0]);
        %Screen('DrawLine',wPtr, [0 0 0], x7, y1, x8, y1, [3]); Screen('DrawLine',wPtr, [0 0 0], x7, y0, x7, y1, [3]);
        %Screen('DrawText',wPtr,StartInterval,x7+(x1/8),y0+(y1/2),[0 0 0]);
        Screen('Flip',wPtr);

        % Wait for mouse click in next button
        [clicks,mouseX,mouseY,whichButton] = GetClicks();
        end
       

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%fclose(fileName);
fclose(myfile);
Screen('CloseAll') 

end

